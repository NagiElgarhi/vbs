import { Part, ContentType } from '../../types';

export const part5Content: Part = {
  id: "p5",
  partTitle: "ุงูุจุงุจ ุงูุฎุงูุณ: ุงููุฑุงูุจุฉ ูุงูุณุฌูุงุช ูุงูููุงุญุธุฉ",
  icon: "๐",
  chapters: [
    {
        id: "p5_c1", chapterTitle: "ุงููุตู ุงูุฃูู: ุฅุฏุงุฑุฉ ุงูุณุฌูุงุช ุงููุฑูุฒูุฉ",
        sections: [
            {
              id: "p5_c1_s1",
              icon: "๐",
              title: "ุงููุณุชูู 100: ูุดู ุงูุฎุจุงูุง: ููุงุฐุง ุงูุณุฌูุงุช ุงููุฑูุฒูุฉ ูู ุดุฑูุงู ุงูุญูุงุฉ ููุธุงูู",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุญุชู ุงูุขูุ ุชุนุงูููุง ูุน ุงูุณุฌูุงุช ุนู ุทุฑูู ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุงูุฎุงุฏู ูุงุณุชุฎุฏุงู `journalctl` ุฃู `tail`. ูุฐุง ูุนูู ุจุดูู ุฌูุฏ ูุฎุงุฏู ูุงุญุฏ. ูููู ุชุฎูู ุฃู ูุฏูู ุฎูุณุฉ ุฎูุงุฏู: ุฎุงุฏูู ููุจุ ุฎุงุฏู ูุงุนุฏุฉ ุจูุงูุงุชุ ุฎุงุฏู ุชุฎุฒูู ูุคูุชุ ูุนุงูู ููุงู. ุฅุฐุง ุญุฏุซ ุฎุทุฃุ ููู ุณุชุณุฌู ุงูุฏุฎูู ุฅูู ูู ุฎุงุฏู ูู ูุฐู ุงูุฎูุงุฏู ุนูู ุญุฏุฉ ูุชูุญุต ุณุฌูุงุชู ูุฏูููุงุ ูุฐุง ุบูุฑ ูุนุงู ููุณุชุญูู ุชูุฑูุจูุง ูุชุดุฎูุต ุงููุดุงูู ุงููุนูุฏุฉ ุงูุชู ุชูุชุฏ ุนุจุฑ ุฎุฏูุงุช ูุชุนุฏุฏุฉ." },
                { type: ContentType.HEADING4, text: "ุฏุฑุงุณุฉ ุญุงูุฉ ุนูููุฉ: ูุบุฒ ูุดู ุนูููุฉ ุงูุฏูุน" },
                { type: ContentType.PARAGRAPH, text: "ุชุฎูู ุฃู ูุณุชุฎุฏููุง ุฃุจูุบ ุนู ูุดู ุนูููุฉ ุฏูุน ูู ุงูุณุงุนุฉ 2:15 ุตุจุงุญูุง. ุจุฏูู ุณุฌูุงุช ูุฑูุฒูุฉุ ุชุจุฏู ูููุชู ูุณุชุญููุฉ. ูููู ูุน ูุฌูุฏูุงุ ุชุตุจุญ ูุญูููุง ุฑููููุง. ุฅููู ููู ุชุชุจุน ุงููุตุฉ:" },
                { type: ContentType.LIST_UNORDERED, items: [
                    "<strong>1. ุชุจุฏุฃ ูู Kibana (ูุงุฌูุฉ ุงูุณุฌูุงุช):</strong> ุชุจุญุซ ุนู `userId: \"12345\"` ูู ุขุฎุฑ ุณุงุนุฉ. ุชุฑู ุนูู ุงูููุฑ ุณูุณูุฉ ูู ุงูุฃุญุฏุงุซ ูุฑุชุจุฉ ุฒููููุง.",
                    "<strong>2. ุณุฌู Nginx:</strong> ุชุฑู `[web-1] POST /api/v1/payment 200`. ูุฐุง ูุนูู ุฃู ุงูุทูุจ ูุตู ุฅูู ุฎุงุฏู ุงูููุจ ุจูุฌุงุญ.",
                    "<strong>3. ุณุฌู ุชุทุจูู Node.js:</strong> ุงูุณุทุฑ ุงูุชุงูู ูู ูู ุชุทุจููู: `[node-app-1] INFO: Processing payment for userId: \"12345\", amount: 50.00`. ูู ุดูุก ูุจุฏู ุฌูุฏูุง ุญุชู ุงูุขู.",
                    "<strong>4. ุณุฌู ุฎุฏูุฉ ุงูุฏูุน:</strong> ุชุฑู `[payment-worker-1] ERROR: Payment failed for userId: \"12345\". Reason: Stripe API Error - Invalid API Key provided.`. ุขูุง! ูุฐู ูู ุงููุดููุฉ.",
                    "<strong>5. ุณุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช:</strong> ุชุฑู `[postgres-1] STATEMENT: ROLLBACK`. ูุงุนุฏุฉ ุจูุงูุงุชู ูุงูุช ุจุนูููุง ูุชุฑุงุฌุนุช ุนู ุงููุนุงููุฉ ุจุฃูุงู.",
                ]},
                { type: ContentType.PARAGRAPH, text: "ูู ุซูุงููุ ููุช ุจุชุญุฏูุฏ ุงูุณุจุจ ุงูุฌุฐุฑู ุงูุฏููู (ููุชุงุญ Stripe API ุบูุฑ ุตุงูุญ) ูุงูุฎุฏูุฉ ุงููุญุฏุฏุฉ ุงูุชู ูุดูุชุ ูู ุฐูู ุฏูู ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุฃู ุฎุงุฏู. ูุฐู ูู ููุฉ ุงูุณุฌูุงุช ุงููุฑูุฒูุฉ." },
                { type: ContentType.NOTE, title: "ุงูููุงุฆุฏ ุงูุชู ูุง ุชูุฏุฑ ุจุซูู", text: "ุฅุฏุงุฑุฉ ุงูุณุฌูุงุช ุงููุฑูุฒูุฉ ููุณุช ุฑูุงููุฉุ ุจู ูู ุถุฑูุฑุฉ. ุฅููุง ุชููุฑ 'ูุตุฏุฑ ุญูููุฉ ูุงุญุฏูุง' ููููู ุงูุจุญุซ ููู ูุชุญูููู ูุชุตููุฑู ุจูุงูููุงุ ููุง ูุชูุญ ูู ุชุตุญูุญ ุงูุฃุฎุทุงุก ุงูุดุงููุ ูุงูุชุญููู ุงูุฃููู ุงูุงุณุชุจุงูู (ูุซู ุงูุจุญุซ ุนู ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู ุงููุงุดูุฉ ุงููุชุนุฏุฏุฉ ูู ููุณ IP)ุ ูุงููุฑุงูุจุฉ ุงููุนุงูุฉ (ุฅูุดุงุก ุชูุจููุงุช ุจูุงุกู ุนูู ุฃููุงุท ุงูุณุฌูุงุช)ุ ูุงูุงุญุชูุงุธ ุทููู ุงูุฃูุฏ ุจุงูุจูุงูุงุช ููุงูุชุซุงู ูุงูุชุญููู ุงูุชุงุฑูุฎู." },
              ]
            },
            {
              id: "p5_c1_s2",
              icon: "๐",
              title: "ุงููุณุชูู 101: ุชุดุฑูุญ ุญุฒูุฉ ELK ูุจุฏูููุง ุงูุณุฑู Loki",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุญุฒูุฉ ELK (ุงูุชู ุชุณูู ุงูุขู Elastic Stack) ูู ุงููุนูุงุฑ ุงูุฐูุจู ูู ุนุงูู ุฅุฏุงุฑุฉ ุงูุณุฌูุงุช ุงููุฑูุฒูุฉ ููุชูุญุฉ ุงููุตุฏุฑ. ุฅููุง ูุฌููุนุฉ ูููุฉ ูู ุซูุงุซ ุฃุฏูุงุช ุฑุฆูุณูุฉุ ูุน ุฅุถุงูุฉ Beats ูุนูุตุฑ ุฑุงุจุน ุดุงุฆุน." },
                 { type: ContentType.DEFINITION_LIST, definitionItems: [
                    { term: "Elasticsearch", definition: "ุงูููุจ. ูุงุนุฏุฉ ุจูุงูุงุช ุจุญุซ ูุชุญููู ููุฒุนุฉ ูููุฉ ููุบุงูุฉ. ุฅููุง ุชููุฑุณ ูู ุงูุจูุงูุงุช ุงูุชู ุชุชููุงูุงุ ููุง ูุฌุนู ุงูุจุญุซ ุณุฑูุนูุง ุจุดูู ูุง ูุตุฏู." },
                    { term: "Logstash", definition: "ุฎุท ุฃูุงุจูุจ ูุนุงูุฌุฉ ุงูุจูุงูุงุช ูู ุฌุงูุจ ุงูุฎุงุฏู. Logstash ูุฃุฎุฐ ุงูุณุฌูุงุช ูู ูุตุงุฏุฑ ูุชุนุฏุฏุฉุ ููููู ุจุชุญููููุง ูุชูุธูููุง ูุฅุซุฑุงุฆูุงุ ุซู ูุฑุณููุง ุฅูู Elasticsearch." },
                    { term: "Kibana", definition: "ูุงูุฐุชู ุฅูู ุงูุจูุงูุงุช. Kibana ูู ูุงุฌูุฉ ูุณุชุฎุฏู ุฑุณูููุฉ ุชุชูุญ ูู ุงูุจุญุซ ูู ุงูุจูุงูุงุช ูุชุตูุฑูุง ูุฅูุดุงุก ููุญุงุช ูุนูููุงุช ุฏููุงููููุฉ." },
                    { term: "Beats", definition: "ุนุงุฆูุฉ ูู 'ุดุงุญูู ุงูุจูุงูุงุช' (data shippers) ุฎูููู ุงููุฒู. `Filebeat` ูู ุงูุฃูุซุฑ ุดููุนูุงุ ุชููู ุจุชุซุจูุชู ุนูู ุฎูุงุฏููุ ููู ูุฑุงูุจ ูููุงุช ุงูุณุฌู ููุฑุณู ุฃู ุชุบููุฑุงุช ุฅูู Logstash ุฃู Elasticsearch ูุจุงุดุฑุฉ." }
                ]},
                { type: ContentType.HEADING4, text: "ูุดู ุงูุฎุจุงูุง: ููู ูุญูู Logstash ุงูููุถู ุฅูู ูุธุงู" },
                { type: ContentType.PARAGRAPH, text: "ูููุชุฑุถ ุฃู ูุฏูู ุณุทุฑ ุณุฌู Nginx ุบุงูุถ:" },
                { type: ContentType.PREFORMATTED_TEXT, text: `192.168.1.1 - - [10/Oct/2023:13:55:36 +0000] "GET /api/users HTTP/1.1" 200 1270 "-" "Mozilla/5.0 ..."` },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ุงููุต ุบูุฑ ููุธู. Logstash ูุฃุฎุฐ ูุฐุง ุงูุณุทุฑ ููุณุชุฎุฏู ูุฑุดุญูุง ูุณูู `grok` ูุชุญูููู ุฅูู ูุซููุฉ JSON ููุธูุฉ ูุบููุฉ ุจุงููุนูููุงุชุ ูุงูุชู ูุชู ุชุฎุฒูููุง ูู Elasticsearch:" },
                { type: ContentType.CODE_BLOCK, language: "json", code: `{
  "client_ip": "192.168.1.1",
  "timestamp": "10/Oct/2023:13:55:36 +0000",
  "verb": "GET",
  "request": "/api/users",
  "http_version": "1.1",
  "status_code": 200,
  "bytes_sent": 1270,
  "user_agent": "Mozilla/5.0 ..."
}` },
                { type: ContentType.PARAGRAPH, text: "ูุฐู ุงูุจููุฉ ูู ุงูุชู ุชุฌุนู ุงูุจุญุซ ูุงูุชุญููู ูููููู. Elasticsearch ูููุฑุณ ูู ุญูู ูู ูุฐู ุงูุญูููุ ููุง ูุณูุญ ูู ุจุฅุฌุฑุงุก ุงุณุชุนูุงูุงุช ูููุฉ. Kibana ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ ุงูุชู ุชุณุชุฎุฏููุง ููุจุญุซ ูู ูุฐู ุงูุจูุงูุงุช ูุฅูุดุงุก ููุญุงุช ูุนูููุงุช." },
                { type: ContentType.HEADING4, text: "ุงูุณุฑ ุงููุจูุฑ: ุจุฏูู ูุนุงู ูู ุญูุซ ุงูุชูููุฉ - Grafana Loki" },
                { type: ContentType.PARAGRAPH, text: "Elasticsearch ููู ุฌุฏูุง ูุฃูู ูููุฑุณ *ูู ูููุฉ* ูู ูู ุณุทุฑ ุณุฌู. ูุฐุง ูุฌุนูู ูุณุชููู ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ ููุณุงุญุฉ ุงููุฑุตุ ููุง ูุฏ ูููู ูููููุง ููุบุงูุฉ. Loki ูุชุจุน ููุฌูุง ูุฎุชูููุง ููุณุชูุญู ูู Prometheus." },
                { type: ContentType.PARAGRAPH, text: "ููุณูุฉ Loki ูู: **ููุฑุณุฉ ุงูุจูุงูุงุช ุงููุตููุฉ ููุทุ ูููุณ ุฃุณุทุฑ ุงูุณุฌู ุจุฃููููุง**. Loki ูููุฑุณ ููุท ูุฌููุนุฉ ุตุบูุฑุฉ ูู 'ุงูุชุณููุงุช' (labels) ุงูุชู ุชุญุฏุฏูุง (ูุซู `job=\"nginx\"`, `server=\"web-1\"`). ูุชู ุถุบุท ุฃุณุทุฑ ุงูุณุฌู ุงููุนููุฉ ูุชุฎุฒูููุง ููุชู. ูุฐุง ูููู ุจุดูู ูุจูุฑ ูู ุชูููุฉ ุงูุชุฎุฒูู ูุงูููุฑุณุฉ." },
                { type: ContentType.NOTE, title: "ุงูููุงูุถุฉ", text: "ุงูููุงูุถุฉ ูู ุฃู ุงูุงุณุชุนูุงูุงุช ูู Loki ุฃุจุทุฃ ููููุงู ููุจุญุซ ุงููุตู ุงููุงููุ ุญูุซ ูุฌุจ ุนููู ูุญุต ุงููุชู ุบูุฑ ุงููููุฑุณุฉ ุจุนุฏ ุชุตููุชูุง ุจุงูุชุณููุงุช. ููุน ุฐููุ ุจุงููุณุจุฉ ููุนุธู ุญุงูุงุช ุงุณุชุฎุฏุงู ุชุตุญูุญ ุงูุฃุฎุทุงุกุ ุญูุซ ุชุนุฑู ุจุงููุนู ูุง ุงูุฐู ุชุจุญุซ ุนูู (ุนูู ุณุจูู-ุงููุซุงูุ 'ุฃุฑูู ุณุฌูุงุช nginx ูู ุงูุฎุงุฏู web-1')ุ ูุฅู Loki ุณุฑูุน ุจุดูู ูุฏูุด ูุฃุฑุฎุต ุจูุซูุฑ ูู ุงูุชุดุบูู." },
              ]
            },
            {
              id: "p5_c1_s3",
              icon: "๐",
              title: "ุงููุณุชูู 102: ูุฑุดุฉ ุนูู: ุชูููู Filebeat ู Promtail",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุจุฏูุงู ูู ุฅุนุฏุงุฏ ุญุฒูุฉ ูุงููุฉุ ุณูุฑูุฒ ุนูู ุงูุฌุฒุก ุงูุฐู ูุชู ุนูู ุฎุงุฏู VPS ุงูุฎุงุต ุจูุง: ุดุงุญู ุงูุณุฌูุงุช. Filebeat (ูู ELK) ู Promtail (ูู Loki) ููุง ููููุงู ุฎูููุง ุงููุฒู ููููุงู ุจููุณ ุงููููุฉ ุงูุฃุณุงุณูุฉ: ูุฑุงูุจุฉ ุงููููุงุช ูุฅุฑุณุงููุง." },
                { type: ContentType.HEADING4, text: "ุฏุฑุงุณุฉ ุญุงูุฉ: ุชูููู Filebeat ูุน ูุญุฏุฉ Nginx" },
                { type: ContentType.PARAGRAPH, text: "ุฃูุถู ุทุฑููุฉ ูุงุณุชุฎุฏุงู Filebeat ูู ูุน ูุญุฏุงุชู ุงููุฏูุฌุฉ. ุจุนุฏ ุงูุชุซุจูุช (`sudo apt install filebeat`)ุ ุชููู ุจุชูููู ุงููุญุฏุฉ:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: `sudo filebeat modules enable nginx` },
                { type: ContentType.PARAGRAPH, text: "ุซูุ ูู `/etc/filebeat/filebeat.yml`ุ ุชููู ููุท ุจุชูููู ุงููุฎุฑุฌุงุช:" },
                { type: ContentType.CODE_BLOCK, language: "yaml", code: `# ...
output.elasticsearch:
  hosts: ["https://my-elastic-cluster.com:9200"]
  username: "elastic"
  password: "\${ELASTIC_PASSWORD}"` },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ูู ุดูุก! ุงููุญุฏุฉ ุชุนุฑู ุชููุงุฆููุง ุฃูู ุชุฌุฏ ุณุฌูุงุช Nginxุ ูููููุฉ ุชุญููููุงุ ูุชุฃุชู ูุน ููุญุงุช ูุนูููุงุช ูุนุฏุฉ ูุณุจููุง ูู Kibana." },
                { type: ContentType.HEADING4, text: "ุฏุฑุงุณุฉ ุญุงูุฉ: ุชูููู Promtail ูุฅุฑุณุงู ุณุฌูุงุช Auth ู Nginx" },
                { type: ContentType.PARAGRAPH, text: "Promtail ูุชุทูุจ ุชูููููุง ูุฏูููุง ุฃูุซุฑ ููููุงูุ ููููู ูุฑู ููุบุงูุฉ." },
                { type: ContentType.CODE_EXPLANATION, language: "yaml", codeTitle: "/etc/promtail/config.yml", code: `server:
  http_listen_port: 9080

positions:
  filename: /tmp/positions.yaml

clients:
  - url: http://your-loki-server:3100/loki/api/v1/push

scrape_configs:
- job_name: system
  static_configs:
  - targets:
      - localhost
    labels:
      job: varlogs
      host: \${HOSTNAME}
      __path__: /var/log/auth.log

- job_name: nginx
  static_configs:
  - targets:
      - localhost
    labels:
      job: nginx
      host: \${HOSTNAME}
      __path__: /var/log/nginx/*.log`, explanations: [
                    { lines: "9", explanation: "ูุญุฏุฏ ุนููุงู ุฎุงุฏู Loki." },
                    { lines: "11-18", explanation: "ุฃูู 'scrape_config'. ูุญู ูุฑุงูุจ `/var/log/auth.log` ููุฑูู ุชุณููุฉ ุซุงุจุชุฉ `job=varlogs` ูุงุณู ุงููุถูู ุงูุฏููุงูููู ููู ุณุทุฑ ุณุฌู ููู." },
                    { lines: "20-27", explanation: "ุซุงูู 'scrape_config' ููุฑุงูุจุฉ ุณุฌูุงุช ูุตูู Nginx. ูุฐู ุงููุฑุฉุ ูุฑูู ุชุณููุฉ `job=nginx` ููุณุชุฎุฏู ุญุฑู ุงูุจุฏู ููุฑุงูุจุฉ ูู ูู `access.log` ู `error.log`." }
                ]},
                 { type: ContentType.NOTE, title: "ูุตูุญุฉ ุนูููุฉ ุญูููุฉ: ุฅุฏุงุฑุฉ ุฏูุฑุงู ุงูุณุฌูุงุช (Log Rotation)", text: "ุชุทุจููุงุช ูุซู Nginx ุชูุชุจ ุฅูู ูููุงุช ุงูุณุฌู ุจุงุณุชูุฑุงุฑ. ูููุน ูุฐู ุงููููุงุช ูู ุงุณุชููุงู ูู ูุณุงุญุฉ ุงููุฑุตุ ูุณุชุฎุฏู ุฃุฏุงุฉ ุชุณูู `logrotate`. `logrotate` ุชููู ุจุดูู ุฏูุฑู ุจุฅุนุงุฏุฉ ุชุณููุฉ ููู ุงูุณุฌู ุงูุญุงูู (ูุซู `access.log` ุฅูู `access.log.1`) ูุฅูุดุงุก ููู ูุงุฑุบ ุฌุฏูุฏ. ูุฌุจ ุชูููู ุดุงุญู ุงูุณุฌูุงุช ุงูุฎุงุต ุจู ููููู ุนูู ุฏุฑุงูุฉ ุจูุฐุง. ูู ูู Filebeat ู Promtail ูุชุนุงููุงู ูุน ูุฐุง ุชููุงุฆููุง ุทุงููุง ุฃูููุง ูุฑุงูุจุงู ุงููุณุงุฑ ุงูุฃุตูู (ูุซู `/var/log/nginx/access.log`)." },
              ]
            },
            {
              id: "p5_c1_s4",
              icon: "๐",
              title: "ุงููุณุชูู 103: ูุฑุดุฉ ุนูู: ุงุณุชุนูุงูุงุช KQL ู LogQL ุงููุชูุฏูุฉ",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุฌูุน ุงูุณุฌูุงุช ูุง ูุงุฆุฏุฉ ููู ุฅุฐุง ูู ุชุชููู ูู ุทุฑุญ ุงูุฃุณุฆูุฉ ุงูุตุญูุญุฉ. Kibana (ูุบุฉ KQL) ู Grafana (ูุบุฉ LogQL) ุชููุฑุงู ูุบุงุช ุงุณุชุนูุงู ูููุฉ." },
                { type: ContentType.HEADING4, text: "ุณููุงุฑูู 1: ุงูุนุซูุฑ ุนูู ุฃุฎุทุงุก 500 ูู Kibana (KQL)" },
                { type: ContentType.CODE_BLOCK, language: "text", code: `nginx.access.response_code >= 500 and not client.ip: "1.2.3.4"` },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ูุฌุฏ ุฌููุน ุฃุฎุทุงุก ุงูุฎุงุฏูุ ูุน ุงุณุชุจุนุงุฏ ุญุฑูุฉ ุงููุฑูุฑ ูู ุนููุงู IP ุฏุงุฎูู (ุฑุจูุง ุงุฎุชุจุงุฑุงุช ุงูุตุญุฉ)." },
                { type: ContentType.HEADING4, text: "ุณููุงุฑูู 2: ุชุชุจุน IP ูุดุจูู ูู Grafana (LogQL)" },
                { type: ContentType.CODE_BLOCK, language: "text", code: `{job="nginx"} |~ "123.45.67.89" |= "POST" != "200"` },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ูุฌุฏ ุฌููุน ุฃุณุทุฑ ุงูุณุฌู ูู ูููุฉ `nginx` ุงูุชู ุชุญุชูู ุนูู ุนููุงู IP `123.45.67.89` (`|~`)ุ ูุชุญุชูู ุฃูุถูุง ุนูู ูููุฉ `POST` (`|=`)ุ ููุง ุชุญุชูู ุนูู `200` (`!=`). ูุฐุง ูุธูุฑ ูู ุฌููุน ุทูุจุงุช POST ุงููุงุดูุฉ ูู ููุงุฌู ูุญุชูู." },
                { type: ContentType.HEADING4, text: "ุณููุงุฑูู 3: ุญุณุงุจ ูุนุฏู ุงูุฎุทุฃ ูู Grafana (LogQL)" },
                { type: ContentType.CODE_BLOCK, language: "text", code: `sum(rate({job="nginx"} | json | response_code_int > 499 [5m])) by (response_code)` },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ููุนู ุดูุฆูุง ูุฐููุงู. `rate()` ุชุญุณุจ ุนุฏุฏ ุฃุณุทุฑ ุงูุณุฌู ูู ุงูุซุงููุฉ ุงูุชู ุชุทุงุจู ุงููุฑุดุญ. ุงููุฑุดุญ `| json | response_code_int > 499` ูุญูู ุงูุณุฌู ูู JSON ููุฌุฏ ุฑููุฒ ุงูุญุงูุฉ 5xx. `sum() by (response_code)` ูุฌูุนู ุญุณุจ ุฑูุฒ ุงูุญุงูุฉ. ุงููุชูุฌุฉ ูู ุฑุณู ุจูุงูู ููุถุญ ูุนุฏู ุฃุฎุทุงุก 5xx ุจูุฑูุฑ ุงูููุช." },
                 { type: ContentType.HEADING4, text: "ุฏุฑุงุณุฉ ุญุงูุฉ ุฃูููุฉ: ุงูุชุดุงู ูุฌูู ุชุนุจุฆุฉ ุจูุงูุงุช ุงูุงุนุชูุงุฏ (Credential Stuffing)" },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ูุฌูู ุดุงุฆุน ุญูุซ ูุญุงูู ุงูููุงุฌููู ุงุณุชุฎุฏุงู ููุงุฆู ูู ุจูุงูุงุช ุงูุงุนุชูุงุฏ ุงููุณุฑููุฉ ูุชุณุฌูู ุงูุฏุฎูู. ูุงูุชุดุงู ูุฐุงุ ูุญุชุงุฌ ุฅูู ุฑุจุท ุงูุจูุงูุงุช ูู ูุตุงุฏุฑ ูุชุนุฏุฏุฉ. ุฅููู ููู ููุนู ุฐูู ูู LogQL:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: `sum by (client_ip) (rate({job="nginx", path="/login"} | pattern \`<client_ip>\` [5m])) > 10 and sum by (client_ip) (rate({job="node-app"} |= "Login Failed" | pattern \`<client_ip>\` [5m])) > 10` },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ุงูุงุณุชุนูุงู ุงููุนูุฏ ูุฌุฏ ุนูุงููู IP ุงูุชู: 1) ุฃุฑุณูุช ุฃูุซุฑ ูู 10 ุทูุจุงุช ูู ุงูุฏูููุฉ ุฅูู `/login` ูู ุณุฌูุงุช Nginxุ **ู** 2) ุชุณุจุจุช ูู ุฃูุซุฑ ูู 10 ุฃุฎุทุงุก 'Login Failed' ูู ุณุฌูุงุช ุงูุชุทุจูู ูู ููุณ ุงููุชุฑุฉ. ูุฐุง ูุคุดุฑ ููู ุฌุฏูุง ุนูู ูุฌูู." },
              ]
            },
             {
              id: "p5_c1_s5",
              icon: "๐",
              title: "ุงููุณุชูู 104: ูุฑุดุฉ ุนูู: ุจูุงุก ุฎุท ุฃูุงุจูุจ ุณุฌูุงุช ูุงูู ูุน Logstash",
              content: [
                 { type: ContentType.PARAGRAPH, text: "ูุฑุจุท ูู ุดูุก ูุนูุงุ ุฅููู ูุซุงู ูุงูู ูููู ุชูููู Logstash ููุถุญ ุฎุท ุฃูุงุจูุจ ูุนุงูุฌุฉ ูุชูุฏู." },
                 { type: ContentType.CODE_EXPLANATION, language: "ruby", codeTitle: "logstash.conf", code: `input {
  beats {
    port => 5044
  }
}

filter {
  if [fileset][name] == "nginx" {
    grok {
      match => { "message" => "%{COMBINEDAPACHELOG}" }
    }
    geoip {
      source => "clientip"
    }
    useragent {
      source => "agent"
      target => "user_agent_parsed"
    }
    date {
      match => [ "timestamp", "dd/MMM/yyyy:HH:mm:ss Z" ]
    }
  }
}

output {
  elasticsearch {
    hosts => ["http://localhost:9200"]
    index => "filebeat-%{+YYYY.MM.dd}"
  }
}`, explanations: [
                    { lines: "1-5", explanation: "ูุณู **Input**: ูุฎุจุฑ Logstash ุจุงูุงุณุชูุงุน ุนูู ุงููููุฐ 5044 ููุจูุงูุงุช ุงููุงุฑุฏุฉ ูู Filebeat." },
                    { lines: "8-24", explanation: "ูุณู **Filter**: ูุฐุง ูู ููุจ ุงููุนุงูุฌุฉ. ุฅุฐุง ูุงู ุงูุณุฌู ูุงุฏููุง ูู ูุฌููุนุฉ ูููุงุช `nginx` ุงูุฎุงุตุฉ ุจู Filebeatุ ูุฅููุง ูุทุจู ุณูุณูุฉ ูู ุงููุฑุดุญุงุช." },
                    { lines: "10-12", explanation: "ูุณุชุฎุฏู `grok` ูุชุญููู ุฑุณุงูุฉ ุงูุณุฌู ุงูุฃูููุฉ ุฅูู ุญููู ููุธูุฉ." },
                    { lines: "13-15", explanation: "ูุณุชุฎุฏู `geoip` ูุฃุฎุฐ ุญูู `clientip` ุงูุฐู ุชู ุชุญูููู ูุฅุถุงูุฉ ูุนูููุงุช ุงููููุน ุงูุฌุบุฑุงูู (ุงููุฏููุฉุ ุงูุจูุฏุ ุงูุฅุญุฏุงุซูุงุช)." },
                    { lines: "16-19", explanation: "ูุณุชุฎุฏู `useragent` ูุชุญููู ุณูุณูุฉ ูููู ุงููุณุชุฎุฏู ุฅูู ุญููู ูููุตูุฉ (ุงุณู ุงููุชุตูุญุ ุงูุฅุตุฏุงุฑุ ูุธุงู ุงูุชุดุบูู)." },
                    { lines: "20-22", explanation: "ูุชุฃูุฏ ูู ุฃู ุญูู `@timestamp` ุงูุฑุฆูุณู ูุณุชุฎุฏู ุงูุทุงุจุน ุงูุฒููู ูู ุงูุณุฌู ุงููุนููุ ูููุณ ููุช ุงุณุชูุนุงุจู." },
                    { lines: "27-31", explanation: "ูุณู **Output**: ูุฑุณู ุงููุซููุฉ ุงูููุงุฆูุฉ ูุงูููุซุฑูุงุฉ ุฅูู Elasticsearchุ ููููู ุจุฅูุดุงุก ููุฑุณ ูููู ุฌุฏูุฏ." }
                ]},
              ]
            }
        ]
    },
    {
        id: "p5_c2", chapterTitle: "ุงููุตู ุงูุซุงูู: ุงููุฑุงูุจุฉ ุงููุชูุฏูุฉ ูุน Prometheus",
        sections: [
            {
              id: "p5_c2_s1",
              icon: "๐ฅ",
              title: "ุงููุณุชูู 105: Prometheus: ุนูููุฉ ุงูุณุญุจ (Pull) ุจุฏูุงู ูู ุงูุฏูุน (Push)",
              content: [
                { type: ContentType.PARAGRAPH, text: "Prometheus ูู ูุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ุฑุงุฆุฏ ูู ุนุงูู ุงููุฑุงูุจุฉ ูุงูุชูุจูู. ุนูู ุนูุณ ุฃูุธูุฉ ุงููุฑุงูุจุฉ ุงูุชูููุฏูุฉ ุงูุชู ุชูุชุธุฑ ููู 'ุฏูุน' ุงูุจูุงูุงุช ุฅูููุงุ ูุนูู Prometheus ุนูู ูููุฐุฌ 'ุงูุณุญุจ' (pull model). ูููู ุจุดูู ุฏูุฑู ุจุงูุงุชุตุงู ุจุฃูุฏุงู ูุญุฏุฏุฉ (ูุซู ุฎูุงุฏูู ูุชุทุจููุงุชู) ู 'ููุดุท' (scrapes) ุงูููุงููุณ ุงูุญุงููุฉ ูููุง. ูุชู ุชุฎุฒูู ูุฐู ุงูููุงููุณ ูู ูุงุนุฏุฉ ุจูุงูุงุช ุณูุงุณู ุฒูููุฉ ุนุงููุฉ ุงูููุงุกุฉ." },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ุงููููุฐุฌ ูู ููุงุฆุฏ ูุจูุฑุฉ: ูุณูู ุงูุชุดุงู ุงูุฃูุฏุงู ุงููุนุทูุฉ (ุฅุฐุง ูุดู ุงููุดุทุ ูุงููุฏู ูุนุทู)ุ ูููููู ุชุดุบูู Prometheus ุนูู ุฌูุงุฒู ุงููุญูู ูุงุฎุชุจุงุฑ ุชููููุงุช ุงูุฅูุชุงุฌุ ููุจุณุท ุชูููู ุงูุนููุงุก (ุงูุนููู ูุง ูุญุชุงุฌ ุฅูู ูุนุฑูุฉ ููุงู Prometheus)." },
                { type: ContentType.HEADING4, text: "ุฏููู ุนููู: ุชุซุจูุช ูุชูููู ุฎุงุฏู Prometheus" },
                 { type: ContentType.PARAGRAPH, text: "ุงูุชุซุจูุช ูุชุถูู ุชูุฒูู ุงูููู ุงูุซูุงุฆูุ ุฅูุดุงุก ูุณุชุฎุฏู ูุฎุฏูุฉ `systemd`ุ ูุฅูุดุงุก ููู ุชูููู ุฃุณุงุณู `prometheus.yml`. (ุงูุฎุทูุงุช ุงูุชูุตูููุฉ ุชู ุญุฐููุง ููุฅูุฌุงุฒุ ูููููุง ูุชุงุญุฉ ูู ุงููุซุงุฆู ุงูุฑุณููุฉ)." },
                 { type: ContentType.CODE_BLOCK, language: "yaml", code: `global:
  scrape_interval: 15s # ุงูุดุท ุงูุฃูุฏุงู ูู 15 ุซุงููุฉ

scrape_configs:
  - job_name: 'prometheus'
    # Prometheus ููุดุท ููุณู ููุฑุงูุจุฉ ุตุญุชู
    static_configs:
      - targets: ['localhost:9090']` },
                 { type: ContentType.NOTE, title: "ุณุฑ ุงููุญุชุฑููู: ุงุณุชุฎุฏุงู `promtool`", text: "ูุฃุชู Prometheus ูุน ุฃุฏุงุฉ ูุณุงุนุฏุฉ ูุณุทุฑ ุงูุฃูุงูุฑ ุชุณูู `promtool`. ูุจู ุฅุนุงุฏุฉ ุชุญููู Prometheus ุจุฃู ุชุบููุฑุงุช ูู ุงูุชููููุ ูู ุฏุงุฆููุง ุจุชุดุบูู `promtool check config /etc/prometheus/prometheus.yml`. ูุฐุง ุณูุชุญูู ูู ูุฌูุฏ ุฃุฎุทุงุก ูู ุจูุงุก ุงูุฌููุฉ ููููุนู ูู ุชุนุทูู ูุธุงู ุงููุฑุงูุจุฉ ุงูุฎุงุต ุจู ุจุชูููู ุณูุก." },
              ]
            },
            {
              id: "p5_c2_s2",
              icon: "๐ป",
              title: "ุงููุณุชูู 106: ูุดู ุฎุจุงูุง ููุงููุณ ุงููุธุงู ูุน Node Exporter",
              content: [
                { type: ContentType.PARAGRAPH, text: "ููุญุตูู ุนูู ููุงููุณ ููุตูุฉ ุนู ูุธุงู ุงูุชุดุบูู (ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉุ ุงูุฐุงูุฑุฉุ ุงููุฑุตุ ุงูุดุจูุฉุ ุฅูุฎ)ุ ูุณุชุฎุฏู 'ููุตุฏููุฑูุง' (exporter). Node Exporter ูู ุงููุตุฏุฑ ุงูุฑุณูู ูู Prometheus ููุฐุง ุงูุบุฑุถ. ุฅูู ุจุฑูุงูุฌ ุตุบูุฑ ุชููู ุจุชุดุบููู ุนูู ูู ุฎุงุฏู ุชุฑูุฏ ูุฑุงูุจุชูุ ููู ููุดู ุนู ูุฆุงุช ุงูููุงููุณ ุญูู ุตุญุฉ ุงููุถูู ุนูู ุงููููุฐ 9100." },
                { type: ContentType.HEADING4, text: "ุงูุณุฑ: ููู ุงูููุงููุณ ูู ููุน Counter ู Gauge" },
                { type: ContentType.PARAGRAPH, text: "ูุนุฑุถ Node Exporter ุฃููุงุนูุง ูุฎุชููุฉ ูู ุงูููุงููุณ. ุงูููุนุงู ุงูุฃูุซุฑ ุดููุนูุง ููุง:" },
                { type: ContentType.DEFINITION_LIST, definitionItems: [
                    { term: "Gauge", definition: "ูููุฉ ูููู ุฃู ุชุฑุชูุน ูุชูุฎูุถ. ูุซุงู: `node_memory_MemAvailable_bytes` (ุงูุฐุงูุฑุฉ ุงููุชุงุญุฉ ุญุงูููุง)." },
                    { term: "Counter", definition: "ูููุฉ ุชุฑุงูููุฉ ุชุฒุฏุงุฏ ุฏุงุฆููุง. ูุซุงู: `node_cpu_seconds_total`. ูุฐุง ุงููููุงุณ ูุง ูุฎุจุฑู ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุงูุญุงููุ ุจู ูุฎุจุฑู ุจุฅุฌูุงูู ุนุฏุฏ ุงูุซูุงูู ุงูุชู ูุถุชูุง ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูู ุฃูุถุงุน ูุฎุชููุฉ ููุฐ ุจุฏุก ุชุดุบูู ุงููุตุฏุฑ." },
                ]},
                { type: ContentType.HEADING4, text: "ูุฑุดุฉ ุนูู: ุชุญููู Counter ุฅูู ูุณุจุฉ ูุฆููุฉ ูููุฏุฉ" },
                { type: ContentType.PARAGRAPH, text: "ููุญุตูู ุนูู ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉุ ูุณุชุฎุฏู ุฏุงูุฉ `rate()` ูู PromQL. `rate(node_cpu_seconds_total{mode=\"idle\"}[2m])` ุชุญุณุจ ูุชูุณุท ูุนุฏู ุงูุฒูุงุฏุฉ ูู ุงูุซุงููุฉ ูุนุฏุงุฏ 'ุงูุฎููู' ุนูู ูุฏู ุงูุฏูููุชูู ุงููุงุถูุชูู. ุงููุชูุฌุฉ ูู ุฑูู ุจูู 0 ู 1. ููุญุตูู ุนูู ุงููุณุจุฉ ุงููุฆููุฉ ููุงุณุชุฎุฏุงูุ ูุฃุฎุฐ 1 ูุงูุต ูุนุฏู ุงูุฎููู ููุถุฑุจู ูู 100." },
                 { type: ContentType.CODE_BLOCK, language: "bash", code: `(1 - avg by (instance) (rate(node_cpu_seconds_total{mode="idle"}[2m]))) * 100` },
                { type: ContentType.NOTE, title: "ุนูููุฉ ุงููุนุฏู", text: "ููู ููููุฉ ุงุณุชุฎุฏุงู `rate()` ูุน ุงูุนุฏุงุฏุงุช ูู ุฃุญุฏ ุฃูู ุงูููุงููู ุงูุฃุณุงุณูุฉ ูู Prometheus. ุฅูู ูุณูุญ ูู ุจุชุญููู ุงูููุงููุณ ุงูุชุฑุงูููุฉ ุฅูู ุฑุคู ูุงุจูุฉ ููุชูููุฐ ูู ุงูููุช ุงููุนูู." },
              ]
            },
            {
              id: "p5_c2_s3",
              icon: "๐",
              title: "ุงููุณุชูู 107: ูุฑุดุฉ ุนูู: ูุฑุงูุจุฉ PostgreSQL ู Nginx",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุงููุจุฏุฃ ูู ููุณู ูุฌููุน ุงูุฎุฏูุงุช: ูู ุจุชุซุจูุช ููุตุฏููุฑุ ูุฃุถู ูููุฉ ูุดุท ุฅูู Prometheus." },
                 { type: ContentType.HEADING4, text: "ุฏุฑุงุณุฉ ุญุงูุฉ: ุฅุนุฏุงุฏ `postgres_exporter`" },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ุงููุตุฏุฑ ูุชุตู ุจูุงุนุฏุฉ ุจูุงูุงุชู ููุณุชุนูู ูู ุนุฑูุถ `pg_stat_*` ูุชุญููููุง ุฅูู ููุงููุณ Prometheus." },
                 { type: ContentType.CODE_EXPLANATION, language: "bash", codeTitle: "ุฎุทูุงุช `postgres_exporter`", code: `# 1. ูู ุจุชูุฒูู ูุชุดุบูู ุงููุตุฏุฑ ูุฎุฏูุฉ systemd.

# 2. ูู ุจุฅูุดุงุก ูุณุชุฎุฏู ูููุฑุงุกุฉ ููุท ูู PostgreSQL ููุณุชุฎุฏูู ุงููุตุฏุฑ.
CREATE USER postgres_exporter PASSWORD '...';
GRANT pg_monitor TO postgres_exporter;

# 3. ูู ุจุชุนููู ูุชุบูุฑ ุจูุฆุฉ DATA_SOURCE_NAME ุจุงูุฅุดุงุฑุฉ ุฅูู ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ.
# DATA_SOURCE_NAME="postgresql://postgres_exporter:password@localhost:5432/postgres"

# 4. ุฃุถู ูููุฉ ุงููุดุท ุฅูู prometheus.yml
# - job_name: 'postgres'
#   static_configs:
#     - targets: ['localhost:9187']
`, explanations: [
                    { lines: "4-6", explanation: "ูู ุงูุฃูููุฉ ุจููุงู ุฅูุดุงุก ูุณุชุฎุฏู ูููุตู ุจุฃูู ุงูุงูุชูุงุฒุงุช. ุงูุฏูุฑ `pg_monitor` ูุฎุตุต ููุฐุง ุงูุบุฑุถ." },
                    { lines: "8-12", explanation: "ูููู ุจุชูููู ุงููุตุฏุฑ ููุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุชุ ุซู ูุฎุจุฑ Prometheus ุจูุดุทู." }
                ]},
                 { type: ContentType.HEADING4, text: "ุงุณุชุนูุงูุงุช PostgreSQL ุญูููุฉ" },
                 { type: ContentType.LIST_UNORDERED, items: [
                    "<strong>ูุนุฏู ุฅุตุงุจุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช:</strong> `sum(rate(pg_stat_database_blks_hit{datname=\"myappdb\"}[5m])) / (sum(rate(pg_stat_database_blks_hit{datname=\"myappdb\"}[5m])) + sum(rate(pg_stat_database_blks_read{datname=\"myappdb\"}[5m]))) * 100` (ูุฌุจ ุฃู ูููู > 99%).",
                    "<strong>ุงูุงุชุตุงูุงุช ุงููุดุทุฉ:</strong> `sum(pg_stat_activity_count{datname=\"myappdb\", state=\"active\"})`."
                ]},
              ]
            },
            {
              id: "p5_c2_s4",
              icon: "โ",
              title: "ุงููุณุชูู 108: ูุฑุดุฉ ุนูู PromQL: ูู ูุจุชุฏุฆ ุฅูู ูุญุชุฑู",
              content: [
                { type: ContentType.PARAGRAPH, text: "PromQL ูู ูุบุฉ ูููุฉ ููุบุงูุฉ. ููุจูู ุจุนุถ ุงูุงุณุชุนูุงูุงุช ุงูุนูููุฉ." },
                { type: ContentType.HEADING4, text: "ุญุงูุฉ ุงุณุชุฎุฏุงู 1: ุงููุณุจุฉ ุงููุฆููุฉ ููุฐุงูุฑุฉ ุงููุณุชุฎุฏูุฉ" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: `100 * (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes))` },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ูุณุชุฎุฏู ูููุงุณูู ูู ููุน Gauge ููููู ุจุนูููุฉ ุญุณุงุจูุฉ ุจุณูุทุฉ ุนููููุง." },
                { type: ContentType.HEADING4, text: "ุญุงูุฉ ุงุณุชุฎุฏุงู 2: ุฃุนูู 5 ุนูููุงุช ุชุณุชููู ุงูุฐุงูุฑุฉ" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: `topk(5, node_procread_rss)` },
                { type: ContentType.PARAGRAPH, text: "`topk` ูู ุฏุงูุฉ ุชุฌููุน ูููุฉ ุชุนุฑุถ ุฃุนูู N ุณูุณูุฉ ุฒูููุฉ." },
                { type: ContentType.HEADING4, text: "ุญุงูุฉ ุงุณุชุฎุฏุงู 3 (ุงุญุชุฑุงููุฉ): ุงูุชูุจุค ุจููุงุฏ ูุณุงุญุฉ ุงููุฑุต" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: `predict_linear(node_filesystem_free_bytes{mountpoint="/"}[1h], 4 * 3600) < 0` },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ุงุณุชุนูุงู ุชูุจูู ููู. `predict_linear` ูุฃุฎุฐ ุณุงุนุฉ ูุงุญุฏุฉ ูู ุงูุจูุงูุงุช (`[1h]`) ููุณุชุฎุฏู ุงูุงูุญุฏุงุฑ ุงูุฎุทู ุงูุจุณูุท ููุชูุจุค ุจูููุฉ ุงููููุงุณ ูู ุงููุณุชูุจู. ููุงุ ูุชูุจุฃ ุจูููุชู ุจุนุฏ 4 ุณุงุนุงุช (`4 * 3600` ุซุงููุฉ). ุฅุฐุง ูุงู ุงูุชูุจุค ุฃูู ูู 0ุ ูุณูุชู ุฅุทูุงู ุงูุชูุจูู. ูุฐุง ูููุญู 4 ุณุงุนุงุช ูู ุงูุชุญุฐูุฑ ูุจู ุฃู ููุชูุฆ ุงููุฑุต ุจุงููุนู." },
              ]
            },
            {
              id: "p5_c2_s5",
              icon: "๐จ",
              title: "ุงููุณุชูู 109: ุฏููู ุนููู: ุฅุนุฏุงุฏ Alertmanager ูุน Slack",
              content: [
                { type: ContentType.PARAGRAPH, text: "Prometheus ูุทูู ุงูุชูุจููุงุชุ ู Alertmanager ูุฒูู ุงูุชูุฑุงุฑุ ููุฌูุนุ ูููุฌู ุงูุชูุจููุงุช. ูููู ุจุจูุงุก ุชูููู ูุงูู." },
                { type: ContentType.HEADING4, text: "1. `prometheus_rules.yml`" },
                { type: ContentType.CODE_EXPLANATION, language: "yaml", codeTitle: "ูุซุงู ุนูู ููู ุงูููุงุนุฏ", code: `groups:
- name: HostAlerts
  rules:
  - alert: HostHighCpuLoad
    expr: 100 - (avg by (instance) (rate(node_cpu_seconds_total{mode="idle"}[2m])) * 100) > 80
    for: 5m
    labels:
      severity: warning
    annotations:
      summary: "High CPU load on {{ $labels.instance }}"
      description: "{{ $labels.instance }} has had a CPU load of over 80% for the last 5 minutes."
      
  - alert: ApiErrorRateTooHigh
    expr: (sum(rate(nginx_http_requests_total{status=~"5.."}[5m])) / sum(rate(nginx_http_requests_total[5m]))) * 100 > 5
    for: 10m
    labels:
      severity: critical
      team: backend
    annotations:
      summary: "High API Error Rate"
      description: "More than 5% of API requests are failing for the last 10 minutes. Current value is {{ $value }}%."
`, explanations: [
                    { lines: "1-11", explanation: "ุชูุจูู ุจุณูุท ููุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ููุง ุฑุฃููุง ูู ูุจู." },
                    { lines: "13-22", explanation: "ุชูุจูู ุฃูุซุฑ ุชุนููุฏูุง ููุงูุนูุฉ. `expr` ูุญุณุจ ุงููุณุจุฉ ุงููุฆููุฉ ููุทูุจุงุช ุงูุชู ููุง ุฑูุฒ ุญุงูุฉ 5xx ุนูู ูุฏู 5 ุฏูุงุฆู. ูุชู ุฅุทูุงู ุงูุชูุจูู ุฅุฐุง ุชุฌุงูุฒุช ูุฐู ุงููุณุจุฉ 5% ููุฏุฉ 10 ุฏูุงุฆู ูุชูุงุตูุฉ (`for: 10m`). ุฃุถููุง ุฃูุถูุง ุชุณููุฉ `team` ููุชูุฌูู." }
                ]},
                { type: ContentType.HEADING4, text: "2. `alertmanager.yml`" },
                { type: ContentType.CODE_EXPLANATION, language: "yaml", codeTitle: "ูุซุงู ุนูู alertmanager.yml", code: `global:
  slack_api_url: 'YOUR_SLACK_WEBHOOK_URL'

route:
  receiver: 'default-receiver'
  group_by: ['alertname', 'instance']
  
  routes:
    - receiver: 'backend-team-slack'
      match:
        team: backend
      group_wait: 30s
      group_interval: 5m
      repeat_interval: 1h

receivers:
- name: 'default-receiver'
  slack_configs:
  - channel: '#alerts-general'
    send_resolved: true
- name: 'backend-team-slack'
  slack_configs:
  - channel: '#alerts-backend-critical'
    send_resolved: true
    text: '{{ .CommonAnnotations.summary }}\\n{{ .CommonAnnotations.description }}'`, explanations: [
                    { lines: "4-13", explanation: "ูุณู `route` ูู ุดุฌุฑุฉ ุงูุชูุฌูู. ุงููุณุงุฑ ุงูุฌุฐุฑ ูุฑุณู ูู ุดูุก ุฅูู `default-receiver`. ุซู ูุญุฏุฏ ูุณุงุฑูุง ูุฑุนููุง. `match` ูุฎุจุฑ Alertmanager ุฃูู ุฅุฐุง ูุงู ููุชูุจูู ุชุณููุฉ `team: backend`ุ ููุฌุจ ุฅุฑุณุงูู ุฅูู ุงููุชููู `backend-team-slack` ุจุฏูุงู ูู ุฐูู." },
                    { lines: "15-23", explanation: "ูุญุฏุฏ ุงููุชูููู ุงููุฎุชููููุ ูู ูููู ูุฑุณู ุฅูู ููุงุฉ Slack ูุฎุชููุฉ." }
                ]},
                { type: ContentType.PARAGRAPH, text: "ุฃุฎูุฑูุงุ ูู ุจุชุญุฏูุซ `prometheus.yml` ูุฅุฎุจุงุฑู ุจูุฌูุฏ ูุฐู ุงููููุงุช. ุงูุขูุ ุณูุชู ุชูุฌูู ุชูุจููุงุช ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุฅูู `#alerts-general`ุ ุจูููุง ุณูุชู ุชูุฌูู ุชูุจููุงุช ูุนุฏู ุงูุฎุทุฃ ุงูุญุฑุฌุฉ ูุจุงุดุฑุฉ ุฅูู ูุฑูู ุงููุงุฌูุฉ ุงูุฎูููุฉ." },
              ]
            }
        ]
    },
    {
        id: "p5_c3", chapterTitle: "ุงููุตู ุงูุซุงูุซ: ุงูุชุตูุฑ ุงูุจูุงูู ูุน Grafana",
        sections: [
            {
              id: "p5_c3_s1",
              icon: "๐จ",
              title: "ุงููุณุชูู 110: Grafana: ููุญุฉ ุงูุชุญูู ุงููููุฉ ุงูุฎุงุตุฉ ุจู",
              content: [
                { type: ContentType.PARAGRAPH, text: "ูู ุญูู ุฃู ูุงุฌูุฉ ูุณุชุฎุฏู Prometheus ุฑุงุฆุนุฉ ููุงุณุชุนูุงูุงุช ุงููุฎุตุตุฉ ูุชุตุญูุญ ุงูุฃุฎุทุงุกุ ุฅูุง ุฃููุง ููุณุช ุฃุฏุงุฉ ููุชุตูุฑ ุงูุจูุงูู. ููุฐุง ุงูุบุฑุถุ ูุณุชุฎุฏู Grafana. Grafana ูู ุงูููุตุฉ ููุชูุญุฉ ุงููุตุฏุฑ ุงูุฑุงุฆุฏุฉ ููุชุตูุฑ ุงูุจูุงูู ูุงููุฑุงูุจุฉ. ุฅููุง ุชุณูุญ ูู ุจุฅูุดุงุก ููุญุงุช ูุนูููุงุช ุฌูููุฉ ูุชูุงุนููุฉ ูุบููุฉ ุจุงููุนูููุงุช ูู ูุฌููุนุฉ ูุงุณุนุฉ ูู ูุตุงุฏุฑ ุงูุจูุงูุงุชุ ูุน ููู Prometheus ูู ุงูุฃูุซุฑ ุดููุนูุง." },
                { type: ContentType.PARAGRAPH, text: "ุจุนุฏ ุชุซุจูุช Grafana (`sudo apt install grafana`) ูุชุดุบูููุ ูุฅู ุงูุฎุทูุฉ ุงูุฃููู ูู ุชุณุฌูู ุงูุฏุฎูู (ุงูุงูุชุฑุงุถู: `admin`/`admin`) ูุฅุถุงูุฉ Prometheus ููุตุฏุฑ ุจูุงูุงุช. ูุฐุง ูุชุถูู ุจุจุณุงุทุฉ ุงูุฐูุงุจ ุฅูู `Configuration > Data Sources` ูุงูุฅุดุงุฑุฉ ุฅูู ุนููุงู URL ูุฎุงุฏู Prometheus ุงูุฎุงุต ุจู (`http://localhost:9090`)." },
              ]
            },
            {
              id: "p5_c3_s2",
              icon: "๐๏ธ",
              title: "ุงููุณุชูู 111: ูุฑุดุฉ ุนูู: ุจูุงุก ููุญุฉ ูุนูููุงุช ูู ุงูุตูุฑ",
              content: [
                { type: ContentType.PARAGRAPH, text: "ููุญุฉ ุงููุนูููุงุช ูู ูุฌููุนุฉ ูู 'ุงูููุญุงุช' (panels)ุ ุญูุซ ุชููู ูู ููุญุฉ ุชุตูุฑูุง ุจูุงูููุง ูุงุณุชุนูุงู ูุนูู. ููุจูู ุจุนุถ ุงูููุญุงุช ุงูุฃุณุงุณูุฉ:" },
                { type: ContentType.DEFINITION_LIST, definitionItems: [
                    { term: "ููุญุฉ ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ", definition: "<strong>ุงูููุน:</strong> Time series. <strong>ุงูุงุณุชุนูุงู:</strong> `(1 - avg(rate(node_cpu_seconds_total{mode=\"idle\"}[$__rate_interval]))) * 100`. <strong>ุงููุญุฏุฉ:</strong> Percent (0-100). `$__rate_interval` ูู ูุชุบูุฑ Grafana ุฐูู ูุชู ุถุจุทู ุชููุงุฆููุง ุจูุงุกู ุนูู ูุทุงู ุงูููุช." },
                    { term: "ููุญุฉ ุงูุฐุงูุฑุฉ ุงููุชุงุญุฉ", definition: "<strong>ุงูููุน:</strong> Stat. <strong>ุงูุงุณุชุนูุงู:</strong> `node_memory_MemAvailable_bytes`. <strong>ุงููุญุฏุฉ:</strong> Bytes (IEC). <strong>ุงูุนุชุจุงุช:</strong> ุฃุถู ุนุชุจุงุช ูุชุบููุฑ ุงูููู ุฅูู ุงูุฃุตูุฑ ูุงูุฃุญูุฑ ุนูุฏูุง ุชูุฎูุถ ุงูุฐุงูุฑุฉ." },
                    { term: "ููุญุฉ ุงุณุชุฎุฏุงู ุงููุฑุต", definition: '<strong>ุงูููุน:</strong> Gauge. <strong>ุงูุงุณุชุนูุงู:</strong> `100 - (node_filesystem_free_bytes{mountpoint="/"} / node_filesystem_size_bytes{mountpoint="/"} * 100)`. <strong>ุงููุญุฏุฉ:</strong> Percent (0-100).' },
                ]},
                 { type: ContentType.HEADING4, text: "ูุฑุดุฉ ุนูู ุชุตูุฑ ูุชูุฏูุฉ: ุงุณุชุฎุฏุงู ุงูุฎุฑุงุฆุท ุงูุญุฑุงุฑูุฉ (Heatmaps)" },
                 { type: ContentType.PARAGRAPH, text: "ุงูุฑุณู ุงูุจูุงูู ุงูุฎุทู ูููุชูุณุท ุฃู p99 ูุฒูู ุงูุงุณุชุฌุงุจุฉ ูููุฏุ ูููู ูุฎูู ุงููุตุฉ ุงููุงููุฉ. ุงูุฎุฑูุทุฉ ุงูุญุฑุงุฑูุฉ ุชุธูุฑ ูู ุชูุฒูุนูุง ูุงููุงู. ูููู ุจุจูุงุก ูุงุญุฏุฉ ูุฒูู ุงุณุชุฌุงุจุฉ Nginx:" },
                 { type: ContentType.LIST_UNORDERED, items: [
                    "<strong>ุงูููุน:</strong> Heatmap.",
                    "<strong>ุงูุงุณุชุนูุงู:</strong> `sum by (le) (rate(nginx_http_request_duration_seconds_bucket[5m]))`.",
                    "<strong>ุชูุณูู ุงูุจูุงูุงุช:</strong> `Heatmap`.",
                    "<strong>ุชุณููุฉ ุงููุญูุฑ Y:</strong> `{{le}}` (ูุฐุง ูุณุชุฎุฏู ุชุณููุฉ `le` - ุฃูู ูู ุฃู ูุณุงูู - ูู ูููุงุณ ุงููุฏุฑุฌ ุงูุชูุฑุงุฑู)."
                ]},
                 { type: ContentType.PARAGRAPH, text: "ุงููุชูุฌุฉ ูู ุชุตูุฑ ููู. ุงููุญูุฑ ุงูุณููู ูู ุงูููุชุ ูุงููุญูุฑ ุงูุตุงุฏู ูู ุฒูู ุงูุงุณุชุฌุงุจุฉุ ูููู ูู ูุฑุจุน ููุซู ุนุฏุฏ ุงูุทูุจุงุช ุงูุชู ุงูุชูุช ูู ุฐูู 'ุงูุฏูู'. ูุฐุง ูุณูุญ ูู ุจุฑุคูุฉ ุงูุฃููุงุท ุนูู ุงูููุฑุ ูุซู 'ูุนุธู ุงูุทูุจุงุช ุณุฑูุนุฉุ ูููู ููุงู ูุฌููุนุฉ ุตุบูุฑุฉ ูู ุงูุทูุจุงุช ุงูุจุทูุฆุฉ ุฌุฏูุง ุชุญุฏุซ ูู 5 ุฏูุงุฆู'." },
              ]
            },
            {
              id: "p5_c3_s3",
              icon: "๐ฅ",
              title: "ุงููุณุชูู 112: ุณุฑ ุงููุญุชุฑููู: ุงุณุชุฎุฏุงู ููุญุงุช ูุนูููุงุช ุงููุฌุชูุน ูุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุจูุงุก ููุญุงุช ูุนูููุงุช ุดุงููุฉ ูู ุงูุตูุฑ ูููู ุฃู ูุณุชุบุฑู ููุชูุง ุทูููุงู. ูุญุณู ุงูุญุธุ ูุฏู Grafana ูุฌุชูุน ูุงุจุถ ุจุงูุญูุงุฉ ูุดุงุฑู ููุญุงุช ุงููุนูููุงุช ุงููุนุฏุฉ ูุณุจููุง ุนูู ูููุน Grafana.com ุงูุฑุณูู. ููุญุฉ ูุนูููุงุช 'Node Exporter Full' (ID: 1860) ูู ููุญุฉ ูุนูููุงุช ููุชุงุฒุฉ ูุดุงููุฉ ููุฑุงูุจุฉ ููุงููุณ ุงููุธุงู. ููููู ุงุณุชูุฑุงุฏูุง ุจูุนุฑููุง ูู ุซูุงูู. ุงุณุชูุดุงู ูุฐู ุงูููุญุงุช ุงููุนุฏุฉ ูุณุจููุง ูู ุฃูุถูุง ุทุฑููุฉ ุฑุงุฆุนุฉ ูุชุนูู ุงุณุชุนูุงูุงุช PromQL ุงููุนูุฏุฉ." },
                 { type: ContentType.HEADING4, text: "ุณุฑ ุงููุญุชุฑููู: ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ (Annotations) ูุฑุจุท ุงูุฃุญุฏุงุซ ุจุงูุจูุงูุงุช" },
                { type: ContentType.PARAGRAPH, text: "ูู ุงูุฎูุถ ุงูุฃุฏุงุก ูุฌุฃุฉุ ูู ูุงู ุฐูู ุจุณุจุจ ุนูููุฉ ูุดุฑุ ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ุชุณูุญ ูู ุจูุถุน ุนูุงูุงุช ููุฃุญุฏุงุซ ูุจุงุดุฑุฉ ุนูู ุงูุฑุณูู ุงูุจูุงููุฉ ุงูุฎุงุตุฉ ุจู. ููููู ุชูููู Grafana ูุฌูุจ ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ูู ูุตุงุฏุฑ ูุฎุชููุฉุ ุฃู ููููู ุฅูุดุงุคูุง ุนุจุฑ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฎุงุตุฉ ุจู." },
                 { type: ContentType.CODE_BLOCK, language: "bash", codeTitle: "ุฅุถุงูุฉ ุชุนููู ุชูุถูุญู ูู ุฎุท ุฃูุงุจูุจ CI/CD", code: `curl -X POST "http://user:pass@your-grafana/api/annotations" \\
-H "Content-Type: application/json" \\
-d '{
  "dashboardUID": "your-dashboard-uid",
  "tags": ["deployment", "production"],
  "text": "Deployed version v1.2.3"
}'` },
                 { type: ContentType.PARAGRAPH, text: "ุนูุฏูุง ุชููู ุจุชุดุบูู ูุฐุง ุงูุฃูุฑ ูู ููุงูุฉ ุฎุท ุฃูุงุจูุจ ุงููุดุฑ ุงููุงุฌุญุ ุณูุธูุฑ ุฎุท ุนููุฏู ูุฑุณุงูุฉ ุนูู ุฌููุน ููุญุงุช ุงููุนูููุงุช ุงูุฎุงุตุฉ ุจู ูู ุฐูู ุงูููุช. ูุฐุง ูุง ููุฏุฑ ุจุซูู ูุฑุจุท ุงูุชุบููุฑุงุช ูู ุณููู ุงููุธุงู ุจุงูุฃุญุฏุงุซ ุงููุญุฏุฏุฉ ุงูุชู ุชุณุจุจุช ูููุง." },
              ]
            },
            {
              id: "p5_c3_s4",
              icon: "๐",
              title: "ุงููุณุชูู 113: ูุดู ุงูุฎุจุงูุง: ุชูุจููุงุช Grafana ููุงุจู Alertmanager",
              content: [
                { type: ContentType.PARAGRAPH, text: "ูููุฑ Grafana ูุธุงู ุชูุจูู ุฎุงุต ุจูุ ููุง ูุทุฑุญ ุณุคุงูุงู ุดุงุฆุนูุง: ูุชู ูุฌุจ ุฃู ุฃุณุชุฎุฏูู ููุชู ูุฌุจ ุฃู ุฃุณุชุฎุฏู Alertmanagerุ" },
                { type: ContentType.HEADING4, text: "ุงุณุชุฎุฏู ุชูุจููุงุช Grafana ุนูุฏูุง:" },
                 { type: ContentType.LIST_UNORDERED, items: [
                    "ุชููู ุงูุชูุจููุงุช ุจุณูุทุฉ ูุชุณุชูุฏ ุฅูู ุนุชุจุฉ (threshold).",
                    "ุชุฑูุฏ ุฃู ูููู ุงูุชูุจูู ูุฑุชุจุทูุง ุจุตุฑููุง ุจููุญุฉ ูุนููุฉ.",
                    "ูุง ุชุญุชุงุฌ ุฅูู ุชูุฌูู ูุนูุฏ ุฃู ุชุฌููุน ูุชูุฏู.",
                     "ุชุฑูุฏ ุชูููู ุฃุนุถุงุก ุงููุฑูู ุบูุฑ ุงูุชููููู ูู ุฅูุดุงุก ุชูุจููุงุช ุจุณูููุฉ ูู ููุญุฉ ุงููุนูููุงุช."
                ]},
                 { type: ContentType.HEADING4, text: "ุงุณุชุฎุฏู Prometheus Alertmanager ุนูุฏูุง:" },
                 { type: ContentType.LIST_UNORDERED, items: [
                    "ุชุญุชุงุฌ ุฅูู ุชูุฌูู ุชูุจููุงุช ูุฎุชููุฉ ุฅูู ูุฑู ูุฎุชููุฉ ุจูุงุกู ุนูู ุงูุชุณููุงุช (`team=backend`).",
                    "ุชุญุชุงุฌ ุฅูู ุชุฌููุน ุชูุจููุงุช ูุชุนุฏุฏุฉ (ุนูู ุณุจูู ุงููุซุงูุ '5 ุฎูุงุฏู ููุจ ูุนุทูุฉ') ูู ุฅุดุนุงุฑ ูุงุญุฏ.",
                    "ุชุญุชุงุฌ ุฅูู ูุชู (silencing) ุงูุชูุจููุงุช ุฃุซูุงุก ุงูุตูุงูุฉ.",
                    "ุชุฑูุฏ ุฅุฏุงุฑุฉ ุชูููู ุงูุชูุจูู ุงูุฎุงุต ุจู ูููุฏ (`alerting_rules.yml`) ูู Git.",
                     "ุชุญุชุงุฌ ุฅูู ููุทู ุชูุจูู ูุนูุฏ ูุง ูููู ุชูุซููู ุจุณูููุฉ ูู ุงุณุชุนูุงู Grafana ูุงุญุฏ."
                ]},
                { type: ContentType.NOTE, title: "ุงููุงุนุฏุฉ ุงูุนุงูุฉ", text: "ุงุณุชุฎุฏู Grafana ููุชูุจููุงุช ุงููุฑุฆูุฉ ูุงูุฅุนูุงููุฉ. ุงุณุชุฎุฏู Alertmanager ููุชูุจููุงุช ุงูุชุดุบูููุฉ ุงูุญุฑุฌุฉ ุงูุชู ุชุชุทูุจ ุฅุฌุฑุงุกู ูุชูุฌูููุง ูุนูุฏูุง. ุบุงูุจูุง ูุง ูุชู ุงุณุชุฎุฏุงูููุง ูุนูุง." },
              ]
            },
            {
              id: "p5_c3_s5",
              icon: "๐งฉ",
              title: "ุงููุณุชูู 114: ุฏุฑุงุณุฉ ุญุงูุฉ: ุจูุงุก 'ููุญุฉ ุงููุนูููุงุช ุงูููุงุฆูุฉ' ููููุงุญุธุฉ",
              content: [
                { type: ContentType.PARAGRAPH, text: "ููุฉ Grafana ุงูุญููููุฉ ูู ูุฏุฑุชูุง ุนูู ุฏูุฌ ุงูุจูุงูุงุช ูู ูุตุงุฏุฑ ูุชุนุฏุฏุฉ ูู ููุญุฉ ูุนูููุงุช ูุงุญุฏุฉ. ููุตูู ููุญุฉ ูุนูููุงุช ูุชุตุญูุญ ุฃุฎุทุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุจุทูุฆุฉ." },
                { type: ContentType.HEADING4, text: "1. ุฅูุดุงุก ูุชุบูุฑ" },
                { type: ContentType.PARAGRAPH, text: "ุฃููุงูุ ูู ุจุฅูุดุงุก ูุชุบูุฑ `endpoint` ูู ููุน 'Query'. ุงุณุชุฎุฏู ุงุณุชุนูุงู Prometheus ูุซู `label_values(nginx_http_requests_total, request_uri)` ููุญุตูู ุนูู ูุงุฆูุฉ ุจุฌููุน ููุงุท ุงูููุงูุฉ ุงูุฎุงุตุฉ ุจู." },
                { type: ContentType.HEADING4, text: "2. ุจูุงุก ุงูููุญุงุช" },
                { type: ContentType.LIST_UNORDERED, items: [
                    "<strong>ููุญุฉ 1 (Prometheus):</strong> ุฑุณู ุจูุงูู ูุฒูู ุงุณุชุฌุงุจุฉ p99 ูููุทุฉ ุงูููุงูุฉ ุงููุญุฏุฏุฉ: `histogram_quantile(0.99, sum(rate(nginx_http_request_duration_seconds_bucket{request_uri=\"$endpoint\"}[5m])) by (le))`.",
                    "<strong>ููุญุฉ 2 (Loki):</strong> ููุญุฉ ุณุฌูุงุช ุชุนุฑุถ ุณุฌูุงุช ุงูุฃุฎุทุงุก ููุท ูููุทุฉ ุงูููุงูุฉ ุงููุญุฏุฏุฉ: `{job=\"nginx\"} |= \"$endpoint\" |~ \" [5]\\\\d\\\\d \"`.",
                    "<strong>ููุญุฉ 3 (PostgreSQL):</strong> ููุญุฉ ุฌุฏูู ุชุนุฑุถ ุฃุจุทุฃ 5 ุงุณุชุนูุงูุงุช (ุชุชุทูุจ ูุตุฏุฑ ุจูุงูุงุช PostgreSQL ูุฅุนุฏุงุฏ `pg_stat_statements`).",
                     "<strong>ููุญุฉ 4 (APM/Traces):</strong> ุฅุฐุง ูุงู ูุฏูู ูุตุฏุฑ ุจูุงูุงุช ุชุชุจุน ูุซู Jaeger ุฃู Tempoุ ููููู ุฅุถุงูุฉ ููุญุฉ ุชุนุฑุถ ุฃุจุทุฃ ุงูุชุชุจุนุงุช ูููุทุฉ ุงูููุงูุฉ ุงููุญุฏุฏุฉ."
                ]},
                { type: ContentType.PARAGRAPH, text: "ุงูุขูุ ููููู ุชุญุฏูุฏ ููุทุฉ ุงูููุงูุฉ ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉุ ูุณุชููู ุฌููุน ุงูููุญุงุช ุจุงูุชุญุฏูุซ ุชููุงุฆููุง. ููููู ุฑุคูุฉ ุงุฑุชูุงุน ูู ุฒูู ุงูุงุณุชุฌุงุจุฉุ ูุฑุคูุฉ ุณุฌูุงุช ุงูุฎุทุฃ ุงููุฑุชุจุทุฉ ุจูุ ูุฑุคูุฉ ุงูุงุณุชุนูุงู ุงูุจุทูุก ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฐู ูุฏ ูููู ุงูุณุจุจุ ูู ุฐูู ูู ุดุงุดุฉ ูุงุญุฏุฉ. ูุฐู ูู ุงูููุงุญุธุฉ ุงูุญููููุฉ." },
              ]
            }
        ]
    },
    {
        id: "p5_c4", chapterTitle: "ุงููุตู ุงูุฑุงุจุน: ูุฑุงูุจุฉ ุฃุฏุงุก ุงูุชุทุจููุงุช (APM)",
        sections: [
            {
              id: "p5_c4_s1",
              icon: "๐",
              title: "ุงููุณุชูู 115: APM: ุงูุงูุชูุงู ูู ุงูุตูุฏูู ุงูุฃุณูุฏ ุฅูู ุงูุตูุฏูู ุงูุฒุฌุงุฌู",
              content: [
                { type: ContentType.PARAGRAPH, text: "ููุฏ ูููุง ุจุชุบุทูุฉ ุฑููุฒุชูู ูู ุฃุฑูุงู ุงูููุงุญุธุฉ ุงูุซูุงุซุฉ: ุงูุณุฌูุงุช ูุงูููุงููุณ. ุงูุฑููุฒุฉ ุงูุซุงูุซุฉ ูุงูุฃูุซุฑ ุชูุตููุงู ูู ุงูุชุชุจุนุงุช (Traces). ูุฑุงูุจุฉ ุฃุฏุงุก ุงูุชุทุจููุงุช (APM) ูู ููุงุฑุณุฉ ุงุณุชุฎุฏุงู ุงูุชุชุจุนุงุช ูููู ูุง ูุญุฏุซ *ุฏุงุฎู* ุชุทุจููู." },
                { type: ContentType.PARAGRAPH, text: "ููููุฑ ูู ุชุดุจูู: ุงูููุงููุณ ูู ููุญุฉ ุนุฏุงุฏุงุช ุณูุงุฑุชู (ุงูุณุฑุนุฉุ ุฏุฑุฌุฉ ุญุฑุงุฑุฉ ุงููุญุฑู). ุงูุณุฌูุงุช ูู ุชูุฑูุฑ ุงููููุงูููู ุจุนุฏ ุงููุญุต. ููู ุงูุชุชุจุนุงุช ูู ูุงููุฑุง ุนุงููุฉ ุงูุณุฑุนุฉ ููุถูุนุฉ ุฏุงุฎู ุงููุญุฑูุ ุชุณุฌู ูู ุดุฑุงุฑุฉ ููู ุญุฑูุฉ ููุจุณ. ุฅููุง ุชุญูู ุชุทุจููู ูู ุตูุฏูู ุฃุณูุฏ ุฅูู ุตูุฏูู ุฒุฌุงุฌูุ ููุง ูุณูุญ ูู ุจุฑุคูุฉ ูู ุฌุฒุก ูู ุงูููุฏ ุฃุซูุงุก ุชูููุฐู." },
              ]
            },
            {
              id: "p5_c4_s2",
              icon: "๐ฃ",
              title: "ุงููุณุชูู 116: ูุดู ุฎุจุงูุง ุชุชุจุน ุงูุทูุจุงุช ุงูููุฒุนุฉ",
              content: [
                { type: ContentType.PARAGRAPH, text: "ูู ุงูุจูู ุงูุญุฏูุซุฉ ุงููุงุฆูุฉ ุนูู ุงูุฎุฏูุงุช ุงููุตุบุฑุฉ (microservices)ุ ูุฏ ููุฑ ุทูุจ ูุณุชุฎุฏู ูุงุญุฏ ุนุจุฑ ุฎุฏูุงุช ูุชุนุฏุฏุฉ ูุจู ุงูุชูุงูู. ุชุชุจุน ุงูุทูุจุงุช ุงูููุฒุนุฉ ูู ุชูููุฉ ุชุชูุญ ูู ุชุชุจุน ุฑุญูุฉ ูุฐุง ุงูุทูุจ ุนุจุฑ ุฌููุน ูุฐู ุงูุฎุฏูุงุช." },
                { type: ContentType.PARAGRAPH, text: "ุนูุฏูุง ูุฏุฎู ุทูุจ ุฅูู ุงููุธุงู ูุฃูู ูุฑุฉุ ูุชู ุฅุนุทุงุคู 'ูุนุฑู ุชุชุจุน' (Trace ID) ูุฑูุฏูุง. ูุชู ุชูุฑูุฑ ูุฐุง ุงููุนุฑู ูู ุชุฑููุณุงุช HTTP (ูุซู `traceparent`) ูุน ูู ุงุณุชุฏุนุงุก ูุงุญู ุจูู ุงูุฎุฏูุงุช. ูู ูุทุนุฉ ุนูู ุฏุงุฎู ุฎุฏูุฉ (ูุซู ุงุณุชุฏุนุงุก ุฏุงูุฉุ ุงุณุชุนูุงู ูุงุนุฏุฉ ุจูุงูุงุช) ุชุณูู 'ุงูุชุฏุงุฏ' (Span). ูู ุงูุชุฏุงุฏ ูู ูุนุฑูู ุงูุฎุงุต ููุดูุฑ ุฅูู ูุนุฑู ุงูุชุฏุงุฏู ุงูุฃุตูู. ูุงููุชูุฌุฉ ูู ุจููุฉ ุดุฌุฑูุฉ ููููู ุชุตูุฑูุง ูุฑุณู ุจูุงูู ุดูุงูู (flame graph) ููุถุญ ุจุงูุถุจุท ุฃูู ูุถู ุงูุทูุจ ููุชูุ ููุง ูุณูู ุชุญุฏูุฏ ุงูุฎุฏูุฉ ุงูุจุทูุฆุฉ." },
              ]
            },
            {
              id: "p5_c4_s3",
              icon: "๐ง",
              title: "ุงููุณุชูู 117: ูุฑุดุฉ ุนูู: ุฅุถุงูุฉ OpenTelemetry ุฅูู ุชุทุจูู Node.js",
              content: [
                { type: ContentType.PARAGRAPH, text: "OpenTelemetry ูู ูุนูุงุฑ ููุชูุญ ุงููุตุฏุฑ ูุฌูุน ุจูุงูุงุช ุงูุชุชุจุน. ูุฏูุฌูุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ููุชุจุฉ 'instrumentation' ุฅูู ุชุทุจููู. ูุฐู ุงูููุชุจุฉ ุชููู ุชููุงุฆููุง 'ุจุชุฑููุน' (monkey-patching) ุงูููุชุจุงุช ุงูุดุงุฆุนุฉ." },
                { type: ContentType.HEADING4, text: "ูุซุงู ูุงูู ูู `instrumentation.js`:" },
                { type: ContentType.CODE_BLOCK, language: "javascript", code: `const { NodeSDK } = require('@opentelemetry/sdk-node');
const { OTLPTraceExporter } = require('@opentelemetry/exporter-trace-otlp-http');
const { HttpInstrumentation } = require('@opentelemetry/instrumentation-http');
const { ExpressInstrumentation } = require('@opentelemetry/instrumentation-express');
const { PgInstrumentation } = require('@opentelemetry/instrumentation-pg');

const sdk = new NodeSDK({
  serviceName: 'my-node-app',
  traceExporter: new OTLPTraceExporter({
    url: 'http://your-apm-collector:4318/v1/traces', // e.g., SigNoz or Jaeger
  }),
  instrumentations: [
    new HttpInstrumentation(),
    new ExpressInstrumentation(),
    new PgInstrumentation(),
  ]
});

sdk.start();
` },
                { type: ContentType.PARAGRAPH, text: "ุซู ุชุจุฏุฃ ุชุทุจููู ุจุงุณุชุฎุฏุงู: `node -r ./instrumentation.js index.js`. ูุฐุง ูู ุดูุก! ุณุชุจุฏุฃ ุงูููุชุจุงุช ุชููุงุฆููุง ูู ุฅูุดุงุก ูุฅุฑุณุงู ุงูุชุชุจุนุงุช ุฏูู ุฃู ุชุบููุฑุงุช ูู ููุฏ ุชุทุจููู." },
                 { type: ContentType.HEADING4, text: "ูุฑุดุฉ ุนูู: ุฅุถุงูุฉ ุงูุชุฏุงุฏุงุช ูุฎุตุตุฉ (Custom Spans)" },
                { type: ContentType.PARAGRAPH, text: "ุงูููุงุณ ุงูุชููุงุฆู ุฑุงุฆุนุ ููู ูู ุจุนุถ ุงูุฃุญูุงู ุชุฑูุฏ ููุงุณ ุฏุงูุฉ ูุนููุฉ ููููุฉ ูู ุงูููุฏ ุงูุฎุงุต ุจู. ููููู ุงูููุงู ุจุฐูู ูุฏูููุง:" },
                 { type: ContentType.CODE_BLOCK, language: "javascript", code: `const opentelemetry = require("@opentelemetry/api");

async function processPayment(userId, amount) {
  const tracer = opentelemetry.trace.getTracer('my-app-tracer');
  
  // ุงุจุฏุฃ ุงูุชุฏุงุฏูุง ุฌุฏูุฏูุง
  return tracer.startActiveSpan('processPayment', async (span) => {
    // ุฃุถู ุณูุงุช (ุจูุงูุงุช ูุตููุฉ) ูููุฏุฉ ุฅูู ุงูุงูุชุฏุงุฏ
    span.setAttribute("user.id", userId);
    span.setAttribute("payment.amount", amount);

    try {
      // ... (ุงุชุตู ุจู Stripeุ ุญุฏุซ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ุฅูุฎ) ...
      span.setStatus({ code: opentelemetry.SpanStatusCode.OK });
      return { success: true };
    } catch (error) {
      span.setStatus({ code: opentelemetry.SpanStatusCode.ERROR, message: error.message });
      span.recordException(error); // ุณุฌู ุงูุฎุทุฃ ุงููุงูู
      throw error;
    } finally {
      span.end(); // ุชุฃูุฏ ูู ุฅููุงุก ุงูุงูุชุฏุงุฏ ุฏุงุฆููุง
    }
  });
}` },
              ]
            },
            {
              id: "p5_c4_s4",
              icon: "๐บ",
              title: "ุงููุณุชูู 118: ุณุฑุฏ ูุตุฉ ุชุชุจุน: ูู ุงููููุงุณ ุฅูู ุงูุณุจุจ ุงูุฌุฐุฑู",
              content: [
                { type: ContentType.PARAGRAPH, text: "ูููุชุฑุถ ุฃูู ุชุฑู ุงุฑุชูุงุนูุง ูู ูููุงุณ ุฒูู ุงุณุชุฌุงุจุฉ p99 ูููุทุฉ ุงูููุงูุฉ `/api/orders` ูู Grafana." },
                { type: ContentType.LIST_UNORDERED, items: [
                    "<strong>1. ุงูุงูุชูุงู ุฅูู APM:</strong> ุชููุฑ ุนูู ุงูุฑุณู ุงูุจูุงููุ ุงูุฐู ููููู ุฅูู ุฃุฏุงุฉ APM ุงูุฎุงุตุฉ ุจูุ ูุน ุชุตููุฉ ุงูุชุชุจุนุงุช ูููุทุฉ ุงูููุงูุฉ `/api/orders` ูู ุชูู ุงููุชุฑุฉ ุงูุฒูููุฉ.",
                    "<strong>2. ุชุญุฏูุฏ ุงูุชุชุจุน ุงูุจุทูุก:</strong> ุชุฑู ูุงุฆูุฉ ุจุงูุชุชุจุนุงุชุ ูุนุธููุง ุณุฑูุนุ ูููู ุฃุญุฏูุง ูุณุชุบุฑู 3 ุซูุงูู. ุชููุฑ ุนููู.",
                    "<strong>3. ุชุญููู ุงูุฑุณู ุงูุจูุงูู ุงูุดูุงูู:</strong> ุชุฑู ุฃู ุงูุชุฏุงุฏ `express.request` ูุณุชุบุฑู 3 ุซูุงูู. ุชุญุชูุ ุชุฑู ุงูุชุฏุงุฏูุง ูุณูู `pg.query` ูุณุชุบุฑู 2.9 ุซุงููุฉ.",
                    "<strong>4. ูุญุต ุงูุงูุชุฏุงุฏ:</strong> ุชููุฑ ุนูู ุงูุชุฏุงุฏ `pg.query`. ุชุฑู ุงูุณูุงุช (attributes) ุงููุงููุฉุ ุจูุง ูู ุฐูู ุงุณุชุนูุงู SQL ุงููุนูู: `SELECT * FROM order_items WHERE order_id = 12345;`.",
                    "<strong>5. ุงูุชุดุงู ุงูุณุจุจ ุงูุฌุฐุฑู:</strong> ุชุฃุฎุฐ ูุฐุง ุงูุงุณุชุนูุงู ูุชุดุบู `EXPLAIN ANALYZE` ุนููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. ุชูุชุดู ุฃูู ูููู ุจูุญุต ุชุณูุณูู (Seq Scan) ูุฃูู ูุณูุช ุฅุถุงูุฉ ููุฑุณ ุนูู `order_id` ูู ุฌุฏูู `order_items`. ููุฏ ุงูุชููุช ูู 'ุงูุชุทุจูู ุจุทูุก' ุฅูู ุงูุณุจุจ ุงูุฌุฐุฑู ุงูุฏููู ูู ุฏูุงุฆู."
                ]},
                 { type: ContentType.HEADING4, text: "ุฏุฑุงุณุฉ ุญุงูุฉ ููุงุณูููุฉ: ูุดููุฉ ุงุณุชุนูุงู N+1" },
                 { type: ContentType.PARAGRAPH, text: "ูููุชุฑุถ ุฃู ูุฏูู ููุทุฉ ููุงูุฉ `/api/posts` ุชุนุฑุถ ุขุฎุฑ 10 ููุดูุฑุงุช ูุน ุงุณู ุงููุคูู. ุงูููุฏ ุงูุณุงุฐุฌ ูุฏ ูุจุฏู ูุงูุชุงูู:" },
                 { type: ContentType.CODE_BLOCK, language: "javascript", code: `const posts = await db.query('SELECT * FROM posts LIMIT 10');
for (const post of posts) {
  post.author = await db.query('SELECT name FROM users WHERE id = $1', [post.author_id]);
}` },
                 { type: ContentType.PARAGRAPH, text: "ูู ุฃุฏุงุฉ APMุ ุณูุจุฏู ูุฐุง ุงูุชุชุจุน ูุงุฑุซููุง: ุงูุชุฏุงุฏ ูุงุญุฏ ูู `SELECT * FROM posts`ุ ูููู 10 ุงูุชุฏุงุฏุงุช `SELECT name FROM users` ูุชุณูุณูุฉ. ูุฐุง ูู 1 (N) + 1 = 11 ุงุณุชุนูุงููุง. ุงูุญู ูู ุงุณุชุฎุฏุงู `JOIN`:" },
                 { type: ContentType.CODE_BLOCK, language: "javascript", code: `const posts = await db.query('SELECT p.*, u.name as author_name FROM posts p JOIN users u ON p.author_id = u.id LIMIT 10');` },
                 { type: ContentType.PARAGRAPH, text: "ุงูุขูุ ุณููุธูุฑ ุงูุชุชุจุน ุงูุชุฏุงุฏ ุงุณุชุนูุงู ูุงุญุฏ ููุทุ ูุณูููู ุฃุณุฑุน ุจูุซูุฑ. APM ูุฌุนู ูุฐุง ุงูููุน ูู ุงููุดุงูู ูุงุถุญูุง ุจุตุฑููุง ุนูู ุงูููุฑ." },
              ]
            },
            {
              id: "p5_c4_s5",
              icon: "๐",
              title: "ุงููุณุชูู 119: ุงูุญููุฉ ุงูููุฏุณุฉ: ุฑุจุท ุงูุชุชุจุนุงุช ูุงูุณุฌูุงุช ูุงูููุงููุณ",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุงููุฏู ุงูููุงุฆู ููููุงุญุธุฉ ูู ุฑุจุท ุงูุฑูุงุฆุฒ ุงูุซูุงุซ ูุนูุง. ุนูุฏูุง ุชููู ููุชุจุงุช OpenTelemetry ุจุชุฑููุน ููุชุจุงุช ุงูุชุณุฌูู ุงูุฎุงุตุฉ ุจู (ูุซู Winston ุฃู Pino)ุ ูุฅููุง ุชุญูู ุชููุงุฆููุง `trace_id` ู `span_id` ุงูุญุงูููู ูู ูู ุณุทุฑ ุณุฌู ูุชู ุฅูุดุงุคู." },
                { type: ContentType.PREFORMATTED_TEXT, text: `{ "level": "error", "message": "Failed to process item 5", "trace_id": "...", "span_id": "..." }` },
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ูุบูุฑ ููุงุนุฏ ุงููุนุจุฉ. ูู ุฃุฏุงุฉ APM ุงูุฎุงุตุฉ ุจูุ ููููู ุงูุขู ุงูููุฑ ุนูู ุงูุชุฏุงุฏ ูู ุชุชุจุน ูุฑุคูุฉ ุฌููุน ุงูุณุฌูุงุช ุงูุฏูููุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุฃุซูุงุก ุชูููุฐ ูุฐุง ุงูุฌุฒุก ูู ุงูููุฏ ููุฐุง ุงูุทูุจ ุงููุญุฏุฏ. ูุจุงููุซูุ ูู ุฃุฏุงุฉ ุงูุณุฌูุงุช ุงูุฎุงุตุฉ ุจูุ ููููู ุงูููุฑ ุนูู `trace_id` ูู ุณุทุฑ ุณุฌู ุฎุทุฃ ูุฑุคูุฉ ุงูุชุชุจุน ุงูููุฒุน ุงููุงูู ุงูุฐู ุฃุฏู ุฅูู ูุฐุง ุงูุฎุทุฃ. ููุฏ ููุช ุงูุขู ุจุฑุจุท 'ููุงุฐุง' (ุงูุชุชุจุน) ุจู 'ูุงุฐุง' (ุงูุณุฌู)." },
                 { type: ContentType.HEADING4, text: "ุงููุตูุฉ ุงูููููุฏุฉ: Exemplars" },
                { type: ContentType.PARAGRAPH, text: "Exemplars ูู ููุฒุฉ ุญุฏูุซุฉ ูู Prometheus ู OpenTelemetry ุชุฑุจุท ุงูููุงููุณ ุจุงูุชุชุจุนุงุช. ุนูุฏูุง ูุชู ูุดุท ูููุงุณ (ูุซู `http_request_duration_seconds`)ุ ูููู ูููุตุฏุฑ ุฅุฑูุงู 'ูุซุงู' (exemplar) ุจู - ููู `trace_id` ูุทูุจ ุณุงูู ูู ูุฐุง ุงููููุงุณ. ูู Grafanaุ ููููู ุจุนุฏ ุฐูู ุฑุคูุฉ ููุงุท ุตุบูุฑุฉ ุนูู ุงูุฑุณู ุงูุจูุงูู ุงูุฎุงุต ุจู. ุงูููุฑ ุนูู ุฅุญุฏู ูุฐู ุงูููุงุท ูููู ุฃู ูุฃุฎุฐู ูุจุงุดุฑุฉ ุฅูู ุงูุชุชุจุน ุงููุฑุชุจุท ูู ุฃุฏุงุฉ APM ุงูุฎุงุตุฉ ุจู. ูุฐุง ูููู ุงููุซูุซ: ูู ุงููููุงุณ ุฅูู ุงูุชุชุจุนุ ููู ุงูุชุชุจุน ุฅูู ุงูุณุฌู." },
              ]
            }
        ]
    },
    {
        id: "p5_c5", chapterTitle: "ุงููุตู ุงูุฎุงูุณ: ุงูุงุณุชุฌุงุจุฉ ููุญูุงุฏุซ",
        sections: [
            {
              id: "p5_c5_s1",
              icon: "๐",
              title: "ุงููุณุชูู 120: ููุงูุจ ุนูููุฉ: ุฎุทุฉ ุงูุงุณุชุฌุงุจุฉ ููุญูุงุฏุซ ููุชูุจุงุช ุงูุชุดุบูู",
              content: [
                { type: ContentType.PARAGRAPH, text: "ูุญุงููุฉ ูุนุฑูุฉ ูุง ูุฌุจ ูุนูู ูู ุฎุถู ุฃุฒูุฉ ูู ุงูุณุงุนุฉ 3 ุตุจุงุญูุง ูู ูุตูุฉ ููุงุฑุซุฉ. ุฎุทุฉ ุงูุงุณุชุฌุงุจุฉ ููุญูุงุฏุซ (IRP) ููุชูุจุงุช ุงูุชุดุบูู (Runbooks) ูู ูุซุงุฆู ุญูุฉ ุชุนุฏู ูุณุจููุง." },
                { type: ContentType.HEADING4, text: "ูุงูุจ ูุชูุจ ุชุดุบูู ูุตุบุฑ: ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูุฏ 100% CPU" },
                 { type: ContentType.PREFORMATTED_TEXT, text: `**ุงูุงุณู:** ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูุฏ 100% CPU
**ุงูุดุฏุฉ:** SEV-1 (ุญุฑุฌุฉ)
**ุงููุดู:** ุชูุจูู Prometheus "PostgresHighCpu"

**ุฎุทุฉ ุงูุงุชุตุงู:**
- **ูุงุฆุฏ ุงูุญุงุฏุซ:** ุงูุดุฎุต ุงูููุงูุจ.
- **ุงูุฅุจูุงุบ:** ุฃุฑุณู ุฑุณุงูุฉ ุฅูู ููุงุฉ #incidents ุนูู Slack.

**ุฎุทูุงุช ุงูุชุดุฎูุต:**
1. SSH ุฅูู ุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
2. ูู ุจุชุดุบูู \`sudo -u postgres psql -c "SELECT pid, usename, query, state FROM pg_stat_activity ORDER BY state;"\` ูุชุญุฏูุฏ ุงูุงุณุชุนูุงูุงุช ุงููุดุทุฉ.
3. ุงุจุญุซ ุนู ุฃู ุงุณุชุนูุงูุงุช ุนุงููุฉ ูู ุญุงูุฉ 'active' ููุชุฑุฉ ุทูููุฉ.
4. ุชุญูู ูู ููุญุฉ ูุนูููุงุช Grafana ุงูุฎุงุตุฉ ุจู PostgreSQL ุจุญุซูุง ุนู ุงุฑุชูุงุน ูู ุนุฏุฏ ุงูุฃููุงู.

**ูุณุงุฑ ุงูุชุตุนูุฏ:**
- ุฅุฐุง ูู ูุชู ุญู ุงููุดููุฉ ูู ุบุถูู 15 ุฏูููุฉุ ูู ุจุงุณุชุฏุนุงุก ุฎุจูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูููุงูุจ.

**ุฎุทูุงุช ุงูุญู:**
1. ุฅุฐุง ุชู ุชุญุฏูุฏ ุงุณุชุนูุงู ูุงุฑู ูุนุฑููุ ููู ุจูุชูู ุจุงุณุชุฎุฏุงู \`SELECT pg_terminate_backend(PID);\`.
2. ุฅุฐุง ูุงูุช ููุงู ุงุณุชุนูุงูุงุช ูุชุนุฏุฏุฉ ุนุงููุฉุ ูููุฑ ูู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู ุงูุฐู ูุฑุณููุง.
3. ูุชุตุนูุฏ ุฃุฎูุฑุ ุงุชุตู ุจู [ุงุณู ุฎุจูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช].` },
              ]
            },
            {
              id: "p5_c5_s2",
              icon: "๐",
              title: "ุงููุณุชูู 121: ุฃุฏูุงุช ุฅุฏุงุฑุฉ ุงูุญูุงุฏุซ ูุตูุญุงุช ุงูุญุงูุฉ",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุนูุฏูุง ูุทูู Alertmanager ุชูุจูููุง ูู ููุชุตู ุงููููุ ููู ุชุถูู ุฃู ุงูุดุฎุต ุงูููุงุณุจ ูุณุชููุธุ ูุฐุง ูู ุงูููุงู ุงูุฐู ุชุฃุชู ููู ุฃุฏูุงุช ูุซู PagerDuty ุฃู Opsgenie (ูู Atlassian). ุชุชูุงูู ูุฐู ุงูุฎุฏูุงุช ูุน ูุธุงู ุงููุฑุงูุจุฉ ุงูุฎุงุต ุจู (ูุซู Alertmanager) ูุชุฏูุฑ ุนูููุฉ ุงูุฅุดุนุงุฑ ุงููุนูุฏุฉุ ุจูุง ูู ุฐูู ุฌุฏุงูู ุงูููุงูุจุฉุ ููุณุงุฑุงุช ุงูุชุตุนูุฏ (ุฅุฐุง ูู ูุฑุฏ ุงูุดุฎุต ุงูุฃููุ ุงุชุตู ุจูุฏูุฑู)ุ ูุงูุฅุดุนุงุฑุงุช ูุชุนุฏุฏุฉ ุงููููุงุช (ุฅุดุนุงุฑ ุฏูุนุ ุซู ุฑุณุงูุฉ ูุตูุฉ ูุตูุฑุฉุ ุซู ููุงููุฉ ูุงุชููุฉ)." },
                 { type: ContentType.HEADING4, text: "ุณุฑ ุงููุญุชุฑููู: ุตูุญุงุช ุงูุญุงูุฉ (Status Pages)" },
                { type: ContentType.PARAGRAPH, text: "ุฃุซูุงุก ูููุน ุญุงุฏุซุ ุขุฎุฑ ุดูุก ุชุฑูุฏู ูู ุฃู ููุงุทุนู ูุฑูู ุงูุฏุนู ุฃู ุงููุฏูุฑูู ูู 30 ุซุงููุฉ ููุณุคุงู ุนู ุชุญุฏูุซ. ุตูุญุฉ ุงูุญุงูุฉ (ูุซู status.yourcompany.com) ูู ูุตุฏุฑ ุงูุญูููุฉ ุงููุญูุฏ ุฃุซูุงุก ุงูุงููุทุงุน. ูู ุจุฏุงูุฉ ุงูุญุงุฏุซุ ุชููู ุจุฅูุดุงุก ุญุงุฏุซ ุฌุฏูุฏ ุนูู ุตูุญุฉ ุงูุญุงูุฉ ุงูุฎุงุตุฉ ุจู ('ูุญู ูุญูู ูู ูุดููุฉ ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุฏูุน'). ุซู ุชููู ุจุชุญุฏูุซู ุจุดูู ุฏูุฑู. ูุฐุง ูุญุฑุฑ ุงููููุฏุณูู ููุชุฑููุฒ ุนูู ุญู ุงููุดููุฉุ ูุน ุฅุจูุงุก ุจููุฉ ุงูุดุฑูุฉ ุนูู ุงุทูุงุน." },
              ]
            },
            {
              id: "p5_c5_s3",
              icon: "๐ฅ",
              title: "ุงููุณุชูู 122: ูุญุงูุงุฉ ุงูุญูุงุฏุซ: ูุณุฑ ุงูุฃุดูุงุก ุนู ูุตุฏ",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุฃูุงู ุงููุนุจุฉ (ุฃู ููุฏุณุฉ ุงูููุถู - Chaos Engineering) ูู ููุงุฑุณุฉ ูุณุฑ ุงูุฃุดูุงุก ุนูุฏูุง ูู ุจูุฆุฉ ุฎุงุถุนุฉ ููุฑูุงุจุฉ ูุงุฎุชุจุงุฑ ูุฑููุฉ ูุธุงูู ููุนุงููุฉ ุงุณุชุฌุงุจุชู ููุญูุงุฏุซ. ุชุจุฏุฃ ุจุจุณุงุทุฉ: ูู ุจุฅููุงู ุชุดุบูู ุฎุงุฏู ููุจ ุฃุณุงุณู ูุฏูููุง. ูู ูุงู ููุฒุน ุงูุฃุญูุงู ุจุชุญููู ุญุฑูุฉ ุงููุฑูุฑุ ูู ุฃุทููุช ุงูุชูุจููุงุช ุงูุตุญูุญุฉุ ูู ุนุฑู ุงููุฑูู ุงูููุงูุจ ูุง ูุฌุจ ูุนููุ ุฃูุงู ุงููุนุจุฉ ุชูุดู ุนู ุงูุงูุชุฑุงุถุงุช ุงูุฎุงุทุฆุฉ ูู ุชุตูููู ูุจู ุฃู ููุนู ุฐูู ุญุงุฏุซ ุญูููู." },
              ]
            },
            {
              id: "p5_c5_s4",
              icon: "๐ฌ",
              title: "ุงููุณุชูู 123: ูุฑุดุฉ ุนูู: ูุชุงุจุฉ ุชุญููู ูุง ุจุนุฏ ุงูุญุงุฏุซุฉ ูุงูุนู",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุจุนุฏ ุญู ูู ุญุงุฏุซุฉุ ูุฌุจ ุนูู ุงููุฑูู ุฅุฌุฑุงุก ุชุญููู ูุง ุจุนุฏ ุงูุญุงุฏุซุฉ. ุงููุฏู ููุณ ุฅููุงุก ุงููููุ ุจู ุงูุชุนูู. ุฅููู ูุงูุจ ููุตู:" },
                 { type: ContentType.PREFORMATTED_TEXT, text: `**ุชุญููู ูุง ุจุนุฏ ุงูุญุงุฏุซุฉ: ุงููุทุงุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุฏูุน**

**ููุฎุต:** ูู 15 ุฃูุชูุจุฑ 2023 ุงูุณุงุนุฉ 02:15 ุจุงูุชูููุช ุงูุนุงููู ุงูููุณูุ ุดูุฏุช ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุฏูุน ุงููุทุงุนูุง ูุงููุงู ููุฏุฉ 22 ุฏูููุฉุ ููุง ุฃุซุฑ ุนูู 100% ูู ูุนุงููุงุช ุงูุนููุงุก. ุชู ุชุญุฏูุฏ ุงูุณุจุจ ุงูุฌุฐุฑู ุนูู ุฃูู ููุงุฏ ุงุชุตุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุนุฏ ูุดุฑ ุฎุฏูุฉ ุฌุฏูุฏุฉ.

**ุงูุชุฃุซูุฑ:**
- ูุดู 5,230 ูุนุงููุฉ.
- ุชููู ูุฑูู ุงูุฏุนู 150 ุชุฐูุฑุฉ.
- ุงูุฅูุฑุงุฏุงุช ุงููุชุฃุซุฑุฉ: ~261,500 ุฏููุงุฑ.

**ุงูุฃุณุจุงุจ ุงูุฌุฐุฑูุฉ (ุชูููุฉ 5 Whys):**
1. ููุงุฐุง ูุดูุช ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุชุ -> ููุฏุช ุงุชุตุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช.
2. ููุงุฐุง ููุฏุช ุงูุงุชุตุงูุงุชุ -> ุชู ูุดุฑ ุฎุฏูุฉ 'receipt-generator' ุฌุฏูุฏุฉ ูุชุญุช ุงูุนุฏูุฏ ูู ุงูุงุชุตุงูุงุช ููู ุชุบูููุง.
3. ููุงุฐุง ูู ูุชู ุงูุชุดุงู ูุฐุง ูุจู ุงููุดุฑุ -> ุงูููุฏ ูุฑ ุจูุฑุงุฌุนุฉ ุงูููุฏุ ููู ุชุฃุซูุฑู ุนูู ุชุฌูุน ุงูุงุชุตุงูุงุช ูู ููู ูุงุถุญูุง.
4. ููุงุฐุง ูู ููู ูุฏููุง ุญูุงูุฉุ -> ูู ูุชู ุชูููู ุงูุฎุฏูุฉ ุงูุฌุฏูุฏุฉ ูุงุณุชุฎุฏุงู PgBouncer.
5. ููุงุฐุง ูู ูุชูู ุชูุจูููุงุ -> ูู ููู ูุฏููุง ุชูุจูู ููุฑุงูุจุฉ ูุณุจุฉ ุงุณุชุฎุฏุงู ุงุชุตุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช.

**ุงูุฌุฏูู ุงูุฒููู:**
- 02:10 UTC: ุชู ูุดุฑ ุฎุฏูุฉ 'receipt-generator'.
- 02:15 UTC: ุฅุทูุงู ุชูุจูู "API Latency High".
- 02:18 UTC: ุงููููุฏุณ ุงูููุงูุจ ููุฑ ุจุงูุญุงุฏุซ.
- ...

**ุจููุฏ ุงูุนูู:**
- **[ุนุงุฌู]** [API-123] ุฅุถุงูุฉ PgBouncer ุฅูู ุฎุฏูุฉ 'receipt-generator'. (ุงููุงูู: ูุงุฌูุ ุงูููุนุฏ ุงูููุงุฆู: 16 ุฃูุชูุจุฑ)
- **[ุนุงุฌู]** [MON-45] ุฅูุดุงุก ุชูุจูู Prometheus ูุงุชุตุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช > 90%. (ุงููุงูู: ุณุงุฑุฉุ ุงูููุนุฏ ุงูููุงุฆู: 16 ุฃูุชูุจุฑ)
- **[ูุชูุณุท]** [DEV-78] ุชุญุฏูุซ ูุงุฆูุฉ ูุฑุงุฌุนุฉ ูุฑุงุฌุนุฉ ุงูููุฏ ูุชุดูู ุชุญููู ุงุณุชุฎุฏุงู ุงูุงุชุตุงูุงุช. (ุงููุงูู: ูุฑูู ุงูููุตุฉุ ุงูููุนุฏ ุงูููุงุฆู: 23 ุฃูุชูุจุฑ)` },
              ]
            },
            {
              id: "p5_c5_s5",
              icon: "๐ค",
              title: "ุงููุณุชูู 124: ุซูุงูุฉ ุนุฏู ุฅููุงุก ุงูููู: ุชุบููุฑ ุงููุบุฉ",
              content: [
                { type: ContentType.PARAGRAPH, text: "ุฃูู ุนูุตุฑ ูู ุงูุงุณุชุฌุงุจุฉ ุงููุนุงูุฉ ููุญูุงุฏุซ ูู ุซูุงูุฉ ุนุฏู ุฅููุงุก ุงูููู. ุงููุฑุถูุฉ ูู ุฃู ุงููุงุณ ูุง ูุฃุชูู ุฅูู ุงูุนูู ูููุดููุง. ุฅุฐุง ุงุฑุชูุจ ุดุฎุต ูุง ุฎุทุฃุ ููู ุงููุญุชูู ุฃู ูููู ุฐูู ุจุณุจุจ ูุดู ูู ุงููุธุงู. ุงููุฏู ูู ุชุญููู ูุง ุจุนุฏ ุงูุญุงุฏุซุฉ ูู ุฅุตูุงุญ ุงููุธุงูุ ูููุณ ููู ุงููุฑุฏ." },
                { type: ContentType.HEADING4, text: "ุฃูุซูุฉ ุนูู ุชุบููุฑ ุงููุบุฉ:" },
                 { type: ContentType.DEFINITION_LIST, definitionItems: [
                    { term: "ูุบุฉ ุฅููุงุก ุงูููู:", definition: "'ูุงุฌู ุฏูุน ุงูููุฏ ุงูุณูุก ุงูุฐู ูุณุฑ ุงูุฅูุชุงุฌ.'" },
                    { term: "ูุบุฉ ุนุฏู ุฅููุงุก ุงูููู:", definition: "'ุงูููุฏ ุงูุฐู ูุญุชูู ุนูู ุงูุฎุทุฃ ุชู ุฏูุฌู ููุดุฑู ูู ุงูุฅูุชุงุฌ. ูุดูุช ุนูููุฉ ูุฑุงุฌุนุฉ ุงูููุฏ ูุงุฎุชุจุงุฑุงุช CI ูู ุงูุชุดุงู ุงููุดููุฉ ูุจู ุงููุดุฑ.'" },
                ]},
                { type: ContentType.PARAGRAPH, text: "ูุฐุง ุงูุชุญูู ุงูุจุณูุท ูู ุงููุบุฉ ูุบูุฑ ุงูุชุฑููุฒ ูู ุงููุฑุฏ ุฅูู ุงูุนูููุฉุ ููุดุฌุน ุนูู ุงูุตุฏู ูุงูุดูุงููุฉุ ููุฌุนู ูู ุงููุฑุฌุญ ุฃู ุชุชุนูู ุงููุฑู ูุชุชุญุณู ุจุงููุนู ูู ุงูุญูุงุฏุซ." },
              ]
            }
        ]
    }
  ]
};
