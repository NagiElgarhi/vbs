
import { Book, ContentType } from '../types';

const generatePlaceholderSection = (part: number, chapter: number, level: number, title: string, icon: string = "🚧") => {
    const levelNumber = (part - 1) * 25 + (chapter - 1) * 5 + level;
    return {
        id: `p${part}_c${chapter}_l${levelNumber}`,
        icon,
        title: `المستوى ${levelNumber}: ${title}`,
        content: [{ type: ContentType.PARAGRAPH, text: "هذا المحتوى قيد التطوير وجارٍ العمل عليه." }],
    };
};

export const bookData: Book = {
  bookTitle: "إدارة وتشغيل الباك-إند على VPS – من الصفر للاحتراف",
  arabicBookTitle: "إدارة وتشغيل الباك-إند على VPS – من الصفر للاحتراف",
  parts: [
    {
      id: "p1",
      partTitle: "الباب الأول: إعداد وتأمين الخادم",
      icon: "🚀",
      chapters: [
        {
          id: "p1_c1",
          chapterTitle: "الفصل الأول: التجهيز والوصول الأولي",
          sections: [
            {
              id: "p1_c1_s1",
              icon: "🌟",
              title: "المستوى 0: المقدمة والبداية",
              content: [
                {
                  type: ContentType.PARAGRAPH,
                  text: "أهلاً بك في رحلتك الحقيقية نحو احتراف عالم الواجهة الخلفية (Backend). إذا كنت قد تساءلت يومًا كيف تعمل التطبيقات التي نستخدمها يوميًا، من منصات التواصل الاجتماعي إلى بوابات التجارة الإلكترونية، وكيف تتعامل مع آلاف الطلبات في الثانية، وكيف تبقى متاحة ومستقرة على مدار الساعة، فأنت في المكان الصحيح تمامًا. هذا الكتاب ليس مجرد تجميعة لأوامر برمجية أو نظريات جافة، بل هو خارطة طريق عملية، ومرشد شخصي يأخذ بيدك، خطوة بخطوة، لتنتقل من مرحلة التساؤل والرهبة إلى امتلاك وتشغيل وصيانة خادمك الخاص بكفاءة، أمان، وثقة لا تتزعزع."
                },
                {
                  type: ContentType.PARAGRAPH,
                  text: "في المشهد التكنولوجي الحالي، لم تعد مهارات تطوير الواجهة الأمامية (Frontend) كافية لتكوين مطور شامل ومؤثر. المطور الحقيقي هو من يفهم دورة حياة النظام بأكملها، من واجهة المستخدم الأنيقة التي يتفاعل معها الجمهور، إلى القلب النابض الذي يعمل في الخفاء: الواجهة الخلفية. وهنا يأتي الدور المحوري للخادم الاftراضي الخاص (VPS - Virtual Private Server). فكّر في الـ VPS على أنه بوابتك للحرية الكاملة والتحكم المطلق في بيئة التشغيل. هو ليس مجرد استضافة مشتركة تتقاسم فيها الموارد المحدودة مع عشرات المواقع الأخرى، بل هو قطعة حقيقية من الإنترنت لك وحدك. لك مطلق الحرية في تشكيلها، تأمينها، وتخصيصها لتخدم طموحاتك ومشروعاتك مهما كانت معقدة."
                },
                 { type: ContentType.NOTE, title: "أسلوبنا تفاعلي وعميق", text: "هذا الدليل مصمم ليكون حوارًا بيننا. سأطرح عليك الأوامر، لكن الأهم من ذلك، سأشرح لك 'لماذا' نقوم بكل خطوة، وما هي المخاطر التي نتجنبها. سأنتظرك لتطبق، وسأشجعك على التجربة. سنبني معًا، ونحل المشاكل معًا. بنهاية هذا الكتاب، لن يكون لديك فقط خادم VPS يعمل بكفاءة، بل ستمتلك العقلية والمعرفة لإدارة أي بنية تحتية مستقبلية، وستتحول من مجرد مستهلك للخدمات السحابية إلى صانع ومتحكم فيها. هل أنت مستعد لبدء هذه المغامرة وبناء قلعتك الرقمية الأولى؟ هيا بنا نبدأ!" }
              ]
            },
            {
              id: "p1_c1_s2",
              icon: "🛒",
              title: "المستوى 1: اختيار وشراء سيرفر VPS المناسب",
              content: [
                { type: ContentType.PARAGRAPH, text: "هذه هي الخطوة الأولى والحاسمة في رحلتنا. إنها أشبه بشراء قطعة أرض قبل البدء في بناء منزلك. اختيارك هنا سيؤثر على كل شيء تفعله لاحقًا، من سرعة الأداء إلى سهولة الإدارة. إن امتلاك خادمك الخاص (VPS) هو ما يفصل بين مطور الواجهة الخلفية الطموح والمحترف القادر على بناء ونشر تطبيقات حقيقية وقوية. هذا الخادم هو مساحتك الخاصة على الإنترنت، مملكتك الرقمية التي ستتعلم فيها، تجرب، وتبني سمعتك المهنية. لذا، دعنا نتعمق في هذا القرار ونتخذه عن علم ودراية." },
                { type: ContentType.HEADING4, text: "لماذا VPS؟ مقارنة عميقة بين خيارات الاستضافة" },
                { type: ContentType.PARAGRAPH, text: "لفهم قيمة الـ VPS، يجب أن نقارنه بالبدائل الأخرى المتاحة. كل خيار له مكانه، لكن بالنسبة لأهدافنا، الـ VPS هو الخيار الأمثل بلا منازع." },
                { type: ContentType.DEFINITION_LIST, definitionItems: [
                    { term: "الاستضافة المشتركة (Shared Hosting)", definition: "تخيلها كأنك تستأجر غرفة في شقة مزدحمة. إنها رخيصة، لكنك تتقاسم كل شيء: المطبخ (CPU)، الحمام (RAM)، وحتى عنوان الشقة (IP Address). إذا كان أحد 'الجيران' (موقع آخر على نفس الخادم) يستهلك الكثير من الموارد أو يتسبب في مشاكل أمنية، فسوف تتأثر بشكل مباشر. ليس لديك أي سيطرة على من هم جيرانك، ولا يمكنك تركيب أثاثك الخاص (برامج مخصصة)، فأنت مقيد بقواعد صاحب الشقة (شركة الاستضافة). هذا الخيار مناسب للمدونات الشخصية الصغيرة جدًا، ولكنه كارثي لتطوير الواجهة الخلفية الجاد." },
                    { term: "الخادم المخصص (Dedicated Server)", definition: "هذا يعادل شراء مبنى بأكمله. كل الموارد لك وحدك، ولديك حرية مطلقة. لكن مع القوة العظيمة تأتي مسؤولية عظيمة (وتكلفة باهظة). أنت مسؤول عن صيانة الأجهزة، استبدال الأقراص التالفة، ودفع فاتورة ضخمة شهريًا. هذا الخيار هو للمؤسسات الكبيرة ذات حركة المرور الهائلة، وهو إفراط لا داعي له في مرحلتنا الحالية." },
                    { term: "المنصات السحابية (Cloud Platforms - AWS, GCP)", definition: "هذه تشبه مجموعة بناء لا نهائية من قطع الليغو. إنها قوية ومرنة بشكل لا يصدق، وتدفع مقابل ما تستهلكه فقط. لكن هذه المرونة تأتي مع تعقيد هائل. يمكن أن تكون لوحات التحكم مربكة، ونماذج التسعير معقدة، ومن السهل جدًا ارتكاب خطأ بسيط يؤدي إلى فاتورة غير متوقعة بالآلاف. المنصات السحابية هي وجهة نهائية ممتازة للتطبيقات واسعة النطاق، لكن الـ VPS هو أفضل بيئة تدريبية للوصول إلى هذا المستوى." },
                    { term: "الخادم الاftراضي الخاص (VPS - The Sweet Spot)", definition: "هنا يكمن التوازن المثالي. الـ VPS يشبه استئجار منزلك المستقل. لديك مساحتك الخاصة المعزولة تمامًا، موارد مضمونة لك وحدك (CPU, RAM)، والقدرة على فعل ما تشاء بالداخل (صلاحيات root كاملة). يمكنك تثبيت أي نظام تشغيل، أي قاعدة بيانات، وأي برنامج تحتاجه. كل هذا بتكلفة شهرية ثابتة ومعقولة. إنه يمنحك 90% من قوة الخادم المخصص بجزء بسيط من التكلفة، مع تجنب تعقيدات المنصات السحابية. لهذا السبب، هو خيارنا الأمثل." }
                ]},
                { type: ContentType.HEADING4, text: "فك شيفرة المواصفات الفنية: ما يهم حقًا؟" },
                { type: ContentType.PARAGRAPH, text: "عندما تتصفح عروض شركات الاستضافة، ستواجهك قائمة من المصطلحات التقنية. دعنا نترجمها إلى ما يعنيه كل منها عمليًا لمشروعك." },
                { type: ContentType.DEFINITION_LIST, definitionItems: [
                    { term: "وحدة المعالجة المركزية (vCPU)", definition: "هي 'عقل' الخادم. vCPU تعني 'نواة معالجة اftراضية'، وهي في الأساس جزء من قوة معالج فيزيائي حقيقي. بالنسبة للمبتدئين، لا تنخدع بالعروض التي تقدم عددًا كبيرًا من الأنوية بسعر رخيص جدًا؛ فقد تكون هذه الأنوية 'مشتركة' وأبطأ تحت الضغط. نواة واحدة (1 vCPU) من معالج حديث كافية تمامًا للبدء وتشغيل العديد من التطبيقات. ستحتاج إلى المزيد فقط عندما يبدأ تطبيقك في التعامل مع عدد كبير من المستخدمين المتزامنين أو القيام بعمليات حسابية معقدة." },
                    { term: "الذاكرة العشوائية (RAM)", definition: "هي 'طاولة العمل' للخادم. كل عملية تعمل على خادمك - نظام التشغيل، خادم الويب، قاعدة البيانات، تطبيقك - تحتاج إلى مساحة على هذه الطاولة. نظام لينكس ذكي جدًا ويستخدم أي ذاكرة وصول عشوائي غير مستخدمة لتخزين الملفات المستخدمة بشكل متكرر (التخزين المؤقت - Caching)، مما يسرّع الأداء بشكل كبير. 1 غيغابايت هي الحد الأدنى المقبول لتجربة مريحة، لكن 2 غيغابايت هي نقطة البداية الموصى بها بشدة إذا كانت ميزانيتك تسمح. إنها أفضل استثمار إضافي يمكنك القيام به." },
                    { term: "وحدة التخزين (NVMe SSD هو الملك)", definition: "هذا هو 'مستودع' الخادم. في الماضي، كانت هناك أقراص HDD الميكانيكية البطيئة. ثم جاءت أقراص SSD التي كانت أسرع بكثير. الآن، المعيار الذهبي هو NVMe SSD. الفارق هائل: قرص NVMe يتصل مباشرة باللوحة الأم عبر مسار PCIe فائق السرعة، بينما يستخدم SSD واجهة SATA الأقدم والأبطأ. بالنسبة لقاعدة بياناتك، هذا هو الفرق بين استعلام يستغرق أجزاء من الثانية مقابل عدة ثوانٍ. القاعدة بسيطة: اختر دائمًا NVMe SSD إذا كان متاحًا. لا تقبل بأقل من ذلك في عام 2024." },
                    { term: "نظام التشغيل (Ubuntu 22.04 LTS)", definition: "لماذا هذا الإصدار بالتحديد؟ 'LTS' تعني 'دعم طويل الأمد' (Long-Term Support)، مما يضمن لك الحصول على تحديثات أمنية ودعم فني لمدة 5 سنوات. هذا يعني الاستقرار وراحة البال. ولماذا 'أوبونتو'؟ لأنه يمتلك أكبر مجتمع دعم على الإطلاق. أي مشكلة تواجهك، هناك احتمال 99% أن شخصًا آخر واجهها بالفعل ووجد الحل. إنه المعيار الفعلي لتطوير الويب على لينكس، مما يجعله الخيار الأسهل والأكثر أمانًا للمبتدئين والمحترفين على حد سواء." },
                ]},
                { type: ContentType.HEADING4, text: "من أين تشتري؟ نظرة على أفضل الشركات" },
                { type: ContentType.PARAGRAPH, text: "هناك العديد من الشركات الممتازة، واختيارك يعتمد على أولوياتك: السعر، الأداء، أم سهولة الاستخدام." },
                { type: ContentType.LIST_UNORDERED, items: [
                    "<strong>للمبتدئين وأصحاب الميزانيات المحدودة (Hostinger):</strong> يقدم أسعارًا تنافسية للغاية ولوحة تحكم خاصة به (hPanel) سهلة الاستخدام. إنه خيار رائع ومنخفض المخاطر لبدء رحلتك دون استثمار كبير. الأداء جيد للمشاريع الصغيرة والمتوسطة.",
                    "<strong>لمن يبحث عن أقصى قوة مقابل السعر (Contabo, Hetzner):</strong> هاتان الشركتان الألمانيتان مشهورتان بتقديم موارد هائلة (RAM, CPU, Storage) بأسعار لا تقبل المنافسة. إذا كان تطبيقك يستهلك الكثير من الذاكرة أو كنت تخطط لتشغيل مشاريع متعددة، فهما خياران ممتاzan. قد تكون واجهات التحكم أقل أناقة، لكن القوة التي تحصل عليها لا مثيل لها.",
                    "<strong>للمطورين المحترفين والشركات الناشئة (DigitalOcean, Vultr, Linode):</strong> هذه الشركات تبيع 'تجربة المطور'. واجهاتهم نظيفة، وثائقهم التعليمية هي الأفضل في الصناعة، ولديهم واجهات برمجة تطبيقات (APIs) قوية لأتمتة كل شيء. الأداء موثوق وعالٍ جدًا. ستدفع أكثر قليلاً مقابل نفس الموارد، لكنك تشتري راحة البال وسهولة الاستخدام والسرعة في الإنجاز."
                ]},
                { type: ContentType.NOTE, title: "نصيحة احترافية: اختر موقع مركز البيانات بذكاء!", text: "أثناء الشراء، سيُطلب منك اختيار موقع جغرافي لمركز بياناتك (مثل فرانكفورت، لندن، نيويورك). القاعدة بسيطة: اختر الموقع الأقرب إلى جمهورك المستهدف. إذا كان مستخدموك في الشرق الأوسط، فإن خادمًا في فرانكفورت أو أمستردام سيمنحهم زمن وصول (latency) أقل بكثير من خادم في سنغافورة. يمكنك اختبار سرعة الاتصال بمراكز البيانات المختلفة باستخدام أمر `ping` من جهازك إلى عناوين IP التجريبية التي توفرها معظم الشركات." },
                { type: ContentType.HEADING4, text: "خطوة الأمان الأولى: مفاتيح SSH مقابل كلمات المرور" },
                { type: ContentType.PARAGRAPH, text: "هذا هو أهم قرار أمني ستتخذه أثناء عملية الشراء. إذا أعطتك شركة الاستضافة خيارًا بين إنشاء كلمة مرور للمستخدم `root` أو إضافة مفتاح SSH العام الخاص بك، فاختر دائمًا وأبدًا مفتاح SSH. مفتاح SSH هو ملف تشفير طويل ومعقد للغاية، ومن المستحيل عمليًا تخمينه. كلمة المرور، مهما كانت قوية، يمكن تخمينها بهجمات القوة الغاشمة. باختيار مفتاح SSH من البداية، فإنك تغلق الباب أمام النوع الأكثر شيوعًا من الهجمات الآلية ضد الخوادم الجديدة، وذلك من الثانية الأولى التي يكون فيها خادمك متصلاً بالإنترنت." },
                { type: ContentType.PARAGRAPH, text: "بمجرد إتمام عملية الشراء، ستتلقى بريدًا إلكترونيًا يحتوي على عنوان IP الخاص بخادمك. هذه هي مفاتيح مملكتك الرقمية. احتفظ بها بأمان، واستعد لاتخاذ خطوتك الأولى داخل عالمك الجديد. في المستوى التالي، سنتصل بهذا الخادم لأول مرة." }
              ]
            },
            {
              id: "p1_c1_s3",
              icon: "🔑",
              title: "المستوى 2: الدخول إلى الخادم لأول مرة عبر SSH",
              content: [
                { type: ContentType.PARAGRAPH, text: "تهانينا! لقد حصلت الآن على مفاتيح مملكتك الرقمية: عنوان IP، واسم مستخدم (عادة `root`)، وكلمة مرور (أو أنك قمت بإعداد مفتاح SSH بشكل استباقي). حان الوقت الآن لفتح الباب والدخول إلى عالمك الجديد. الوسيلة التي نستخدمها لهذا الغرض هي بروتوكول SSH، أو Secure Shell. فكر فيه كقناة اتصال سرية ومحصنة تمامًا، نفق مشفر يربط جهاز الكمبيوتر الخاص بك مباشرة بقلب الخادم، مما يتيح لك إصدار الأوامر كما لو كنت جالسًا أمامه مباشرة." },
                { type: ContentType.HEADING4, text: "ما هي 'الطرفية' (Terminal)؟ بوابة التحكم الخاصة بك"},
                { type: ContentType.PARAGRAPH, text: "قبل أن نكتب أي أمر، نحتاج إلى مكان لكتابته. هذا المكان هو تطبيق 'الطرفية' (Terminal) أو 'موجه الأوامر' (Command Prompt). على عكس الواجهات الرسومية التي نستخدمها يوميًا، والتي تعتمد على النقر بالفأرة، الطرفية هي واجهة نصية تتيح لك التفاعل مباشرة مع 'دماغ' نظام التشغيل. إنها أداة قوية للغاية، وهي اللغة التي يتحدث بها مديرو الأنظمة المحترفون. إليك كيفية العثور عليها على نظامك:"},
                { type: ContentType.LIST_UNORDERED, items: [
                    "<strong>في نظام Windows:</strong> أفضل خيار حديث هو البحث عن `Windows Terminal` في قائمة ابدأ. إذا لم يكن مثبتًا، فإن `PowerShell` هو بديل ممتاز ومدمج في النظام. كلاهما يدعم SSH أصلاً.",
                    "<strong>في نظام macOS:</strong> إنه جزء لا يتجزأ من النظام. ابحث عن `Terminal.app` باستخدام Spotlight (اضغط `Cmd + Space` واكتب Terminal). ستجده في مجلد `Applications/Utilities`.",
                    "<strong>في نظام Linux:</strong> أنت على الأرجح معتاد عليه بالفعل! في معظم التوزيعات مثل أوبونتو، يمكنك الضغط على `Ctrl+Alt+T` لفتح نافذة طرفية جديدة على الفور."
                ]},
                { type: ContentType.HEADING4, text: "الاتصال الأول: الأمر الذي يفتح البوابة"},
                { type: ContentType.PARAGRAPH, text: "الآن، افتح الطرفية واستعد لكتابة الأمر الأول المهم. الأمر بسيط في بنيته، لكنه يقوم بعملية معقدة وآمنة في الخلفية. استبدل `YOUR_SERVER_IP` بعنوان IP الفعلي الذي حصلت عليه من شركة الاستضافة."},
                { type: ContentType.CODE_EXPLANATION, language: "bash", codeTitle: "أمر الدخول عبر SSH", code: "ssh root@YOUR_SERVER_IP", explanations: [ 
                    { lines: "1", explanation: "`ssh`: هذا هو اسم البرنامج الذي نستخدمه، وهو اختصار لـ 'Secure Shell'." }, 
                    { lines: "1", explanation: "`root`: اسم المستخدم الذي نحاول تسجيل الدخول به. في المرة الأولى، غالبًا ما يكون هذا هو المستخدم الوحيد المتاح." }, 
                    { lines: "1", explanation: "`@`: هذا الرمز هو مجرد فاصل قياسي يفصل بين اسم المستخدم وعنوان الخادم." }, 
                    { lines: "1", explanation: "`YOUR_SERVER_IP`: هذا هو العنوان الرقمي الفريد لخادمك على الإنترنت، مثل `192.0.2.1`." } 
                ]},
                { type: ContentType.NOTE, title: "رسالة 'بصمة المضيف' (Host Authenticity) - أهميتها القصوى!", text: "في المرة الأولى فقط، ستظهر لك رسالة تبدو كالتالي:\n`The authenticity of host '192.0.2.1 (192.0.2.1)' can't be established.`\n`ECDSA key fingerprint is SHA256:AbCdEfGhIjKlMnOpQrStUvWxYz123456789.`\n`Are you sure you want to continue connecting (yes/no/[fingerprint])?`\n\nهذه ليست رسالة خطأ، بل هي **أهم خطوة أمنية في اتصالك الأول**. إنها آلية تسمى 'الثقة عند الاستخدام الأول' (TOFU - Trust On First Use). الخادم يقدم لك 'بطاقة هويته' الرقمية الفريدة (البصمة). بكتابة `yes`، أنت تخبر جهازك المحلي: 'أنا أثق بهذا الخادم وهذه هي هويته. قم بحفظها'. سيقوم جهازك بحفظ هذه البصمة في ملف مخفي يسمى `~/.ssh/known_hosts`. في كل مرة تتصل فيها بعد ذلك، سيتحقق جهازك بصمت من أن بصمة الخادم لم تتغير. إذا تغيرت، فسيطلق تحذيرًا صارخًا ويمنع الاتصال، لأن هذا قد يعني أن هناك شخصًا ما يحاول اعتراض اتصالك (هجوم الوسيط - Man-in-the-Middle). لذا، اكتب `yes` واضغط `Enter` بثقة." },
                { type: ContentType.PARAGRAPH, text: "بعد ذلك، سيُطلب منك إدخال كلمة المرور للمستخدم `root`. أثناء كتابتك، لن تظهر أي أحرف على الشاشة (لا نجوم، لا نقاط، لا شيء). هذا إجراء أمني قياسي في بيئات يونكس ولينكس لمنع أي شخص يراقب شاشتك من رؤية طول كلمة المرور الخاصة بك. اكتب كلمة المرور بعناية واضغط `Enter`."},
                { type: ContentType.HEADING4, text: "أنت الآن بالداخل: فهم موجه الأوامر الجديد"},
                { type: ContentType.PARAGRAPH, text: "إذا نجح كل شيء، فسيتم الترحيب بك برسالة ترحيب من الخادم، وستلاحظ أن موجه الأوامر (prompt) قد تغير. قد يبدو شيئًا مثل `root@ubuntu-server:~#`. هذا السطر الصغير غني بالمعلومات ويؤكد أنك الآن 'داخل' الخادم وتصدر أوامر هناك، وليس على جهازك المحلي. دعنا نفككه:"},
                { type: ContentType.DEFINITION_LIST, definitionItems: [
                    { term: "root", definition: "المستخدم الحالي الذي قمت بتسجيل الدخول به." },
                    { term: "@", definition: "فاصل." },
                    { term: "ubuntu-server", definition: "اسم مضيف (hostname) الخادم." },
                    { term: ":~", definition: "الدليل الحالي الذي تتواجد فيه. الرمز `~` هو اختصار للدليل الرئيسي للمستخدم الحالي (`/root` في هذه الحالة)." },
                    { term: "#", definition: "أهم مؤشر! علامة الهاش (`#`) تعني أنك تعمل كمستخدم خارق (superuser) بصلاحيات كاملة. إذا كانت العلامة هي `$`، فهذا يعني أنك مستخدم عادي." }
                ]},
                { type: ContentType.PARAGRAPH, text: "لقد خطوت للتو خطوتك الأولى بنجاح في إدارة خادمك. كل أمر تكتبه الآن يتم تنفيذه على تلك الآلة البعيدة. إنها قوة هائلة، وفي المستويات التالية، سنتعلم كيفية استخدامها بحكمة وأمان." }
              ]
            },
            {
                id: "p1_c1_s4",
                icon: "🔄",
                title: "المستوى 3: تحديث النظام المبدئي",
                content: [
                  { type: ContentType.PARAGRAPH, text: "بمجرد دخولك إلى خادمك الجديد، فإن أول وأهم إجراء يجب عليك القيام به هو تحديث شامل لجميع البرامج المثبتة. فكر في صورة نظام التشغيل التي استلمتها على أنها سيارة جديدة خرجت من المصنع قبل بضعة أشهر. على الرغم من أنها 'جديدة' بالنسبة لك، إلا أنها كانت موجودة في المستودع لفترة. خلال هذه الفترة، من المؤكد أن المهندسين اكتشفوا عيوبًا أمنية (ثغرات) وأصدروا إصلاحات (تحديثات) لها. عدم تحديث خادمك فورًا يشبه قيادة تلك السيارة مع العلم بوجود استدعاء من المصنع لإصلاح خلل في المكابح. إنه يترك خادمك عرضة للثغرات المعروفة، مما يجعله هدفًا سهلاً للغاية للهجمات الآلية التي تبحث باستمرار عن أنظمة غير محدثة." },
                  { type: ContentType.HEADING4, text: "فهم مدير الحزم APT والمستودعات"},
                  { type: ContentType.PARAGRAPH, text: "في عالم لينكس، وخاصة في توزيعات ديبيان وأوبونتو، الأداة المسؤولة عن تثبيت البرامج وإزالتها وتحديثها تسمى `apt` (Advanced Package Tool). إنها بمثابة 'متجر التطبيقات' الذكي والآلي لخادمك. لكن من أين يحصل `apt` على برامجه؟ إنه يتصل بمصادر برامج عبر الإنترنت تسمى 'المستودعات' (Repositories). هذه المستودعات هي خوادم ضخمة تحتفظ بنسخ منظمة من آلاف الحزم البرمجية وإصداراتها المختلفة. ملف التكوين الرئيسي الذي يخبر `apt` بمكان هذه المستودعات هو `/etc/apt/sources.list`. عندما نقوم بتشغيل أمر التحديث، فإننا في الأساس نطلب من `apt` الاتصال بالعناوين الموجودة في هذا الملف وتنزيل أحدث قائمة بالبرامج المتاحة." },
                  { type: ContentType.HEADING4, text: "تشريح الأمر: `update` مقابل `upgrade`"},
                  { type: ContentType.PARAGRAPH, text: "غالبًا ما يتم الخلط بين هذين الأمرين، لكنهما يقومان بوظيفتين مختلفتين تمامًا ومتكاملتين. الأمر الذي سنقوم بتشغيله يجمع بينهما بذكاء لتحقيق تحديث كامل وآمن:"},
                  { type: ContentType.CODE_EXPLANATION, language: "bash", codeTitle: "تحديث وترقية حزم النظام", code: "apt update && apt upgrade -y && apt autoremove -y", explanations: [
                    { lines: "1", explanation: "`apt update`: هذا الأمر **لا يقوم بتثبيت أو ترقية أي شيء**. كل ما يفعله هو الاتصال بالمستودعات وتنزيل أحدث 'كتالوج' أو 'فهرس' للبرامج المتاحة وإصداراتها. إنها خطوة تحضيرية ضرورية. بدونها، لن يعرف نظامك بوجود تحديثات جديدة. التشبيه: أنت تدخل مكتبة وتطلب أحدث قائمة بالكتب المنشورة." },
                    { lines: "1", explanation: "`&&`: هذا ليس مجرد فاصل، بل هو عامل منطقي آمن يعني 'نفذ الأمر التالي **فقط إذا** نجح الأمر السابق'. هذا يضمن أننا لن نحاول الترقية إذا فشل تحديث الكتالوج لأي سبب (مثل مشكلة في الشبكة)، مما يمنع حدوث أخطاء محتملة." },
                    { lines: "1", explanation: "`apt upgrade -y`: هنا يحدث السحر الحقيقي. يأخذ هذا الأمر 'الكتالوج' الجديد الذي تم تنزيله ويقارنه بقائمة البرامج المثبتة حاليًا على خادمك. ثم يقوم بحساب جميع الحزم التي لديها إصدار أحدث، وتنزيلها، وتثبيتها بأمان. العلامة `-y` توافق مسبقًا على جميع الأسئلة التي قد يطرحها `apt` أثناء العملية (مثل 'هل أنت متأكد أنك تريد تثبيت هذه الحزم؟')، مما يجعل العملية غير تفاعلية ومناسبة للنصوص البرمجية. التشبيه: بعد الحصول على قائمة الكتب الجديدة، تقوم بمقارنتها بمكتبتك المنزلية وتستبدل كل كتاب قديم بالإصدار الأحدث." },
                    { lines: "1", explanation: "`apt autoremove -y`: هذه هي خطوة التنظيف. بعد الترقية، قد تكون هناك حزم قديمة لم تعد هناك حاجة إليها على الإطلاق (كانت مطلوبة كـ 'اعتماديات' من قبل الإصدارات القديمة للبرامج فقط). هذا الأمر يكتشف هذه الحزم 'اليتيمة' ويزيلها بأمان، مما يوفر مساحة على القرص ويحافظ على نظافة النظام وصحته." }
                  ] },
                  { type: ContentType.PARAGRAPH, text: "قد تستغرق هذه العملية بضع دقائق، اعتمادًا على مدى حداثة صورة الخادم وعدد التحديثات المتاحة. سترى الكثير من النصوص تظهر على الشاشة أثناء تنزيل الحزم وتثبيتها. لا تقلق، هذا طبيعي تمامًا. بمجرد الانتهاء وعودة موجه الأوامر، يكون خادمك محدثًا بالكامل، ومحصنًا ضد أحدث الثغرات الأمنية المعروفة، وجاهزًا للانتقال إلى الخطوات التالية بثقة أكبر."}
                ]
            },
            {
                id: "p1_c1_s5",
                icon: "📁",
                title: "المستوى 4: جولة داخل الخادم: فهم هيكل الملفات",
                content: [
                  { type: ContentType.PARAGRAPH, text: "بعد الدخول إلى خادمك، قد تشعر وكأنك دخلت غرفة مظلمة. أين أضع ملفات مشروعي؟ أين توجد ملفات التكوين الهامة؟ أين يتم تخزين السجلات؟ فهم بنية نظام ملفات لينكس ليس مجرد معلومة نظرية للمتعة، بل هو مهارة أساسية تفرق بين الهاوي الذي يتعثر في الظلام والمحترف الذي يتحرك بثقة ودقة. تخيل الخادم كمبنى مكاتب ضخم ومنظم جيدًا، حيث كل طابق وكل غرفة لها غرض محدد ومدروس. معرفة خريطة هذا المبنى ستوفر عليك ساعات من البحث والإحباط." },
                  { type: ContentType.HEADING4, text: "الجذر (`/`) - مدخل المبنى"},
                  { type: ContentType.PARAGRAPH, text: "كل شيء في لينكس، بدون استثناء، يبدأ من دليل واحد يسمى الدليل الجذر، ويُمثَّل بالرمز `/`. إنه ليس مجرد مجلد، بل هو قمة الهرم بأكمله. إنه المدخل الرئيسي للمبنى الذي تتفرع منه جميع الممرات والغرف الأخرى. عندما تكتب أمرًا مثل `cd /etc`، فإن الشرطة المائلة في البداية تخبر النظام بأن يبدأ البحث من هذا المدخل الرئيسي."},
                  { type: ContentType.HEADING4, text: "جولة معمارية في الطوابق الرئيسية"},
                  { type: ContentType.DEFINITION_LIST, definitionItems: [
                      { term: "/etc", definition: "**غرفة التحكم والمحركات (Configuration Files):** يُنطق 'إت سي'. هنا يتم تخزين جميع ملفات التكوين على مستوى النظام. عندما تحتاج إلى تعديل سلوك خدمة SSH، أو خادم الويب Nginx، أو جدار الحماية، ستكون وجهتك هي هذا المجلد. لا تضع ملفات مشروعك هنا أبدًا. هذه الغرفة للآلات فقط." },
                      { term: "/home", definition: "**طابق المكاتب الشخصية (User Home Directories):** لكل مستخدم عادي (مثل المستخدم `nagi` الذي سننشئه قريبًا) مكتبه الخاص هنا (مثلاً `/home/nagi`). هذا هو المكان الذي يخزن فيه المستخدمون ملفاتهم الشخصية، ونصوصهم البرمجية، وإعداداتهم الخاصة. إنه مساحتهم الخاصة والمنعزلة." },
                      { term: "/root", definition: "**جناح المدير التنفيذي (Root's Home Directory):** هذا هو الدليل الرئيسي للمستخدم الخارق `root`. إنه معزول عن المستخدمين العاديين في `/home` كإجراء أمني إضافي، للتأكيد على الفصل بين العمليات الإدارية والعمليات العادية." },
                      { term: "/var", definition: "**غرفة البريد والأرشيف الديناميكي (Variable Files):** هذا المجلد مخصص للملفات التي يتغير محتواها وحجمها باستمرار أثناء تشغيل النظام. أهم غرفتين فرعيتين هنا هما `/var/log` حيث يتم تخزين جميع سجلات النظام والتطبيقات (كاميرات المراقبة الأمنية)، وغرفة `/var/www` التي تستخدم تقليديًا لوضع ملفات مواقع الويب التي تخدمها." },
                      { term: "/usr", definition: "**المكتبة والموارد المشتركة (User Programs):** على الرغم من اسمه، هذا المجلد ليس للمستخدمين، بل يحتوي على غالبية البرامج والأدوات والمكتبات التي يمكن لجميع المستخدمين استخدامها. فكر فيه كمكتبة عامة ضخمة داخل المبنى." },
                      { term: "/tmp", definition: "**سلة المهملات المؤقتة (Temporary Files):** كما يوحي الاسم، يستخدم هذا المجلد لتخزين الملفات المؤقتة التي تحتاجها البرامج أثناء التشغيل. يتم حذف محتويات هذا المجلد عادةً تلقائيًا عند كل إعادة تشغيل للخادم، لذا لا تخزن فيه أي شيء مهم." }
                  ]},
                  { type: ContentType.HEADING4, text: "استخدام المخططات: الأمر `ls -la`"},
                  { type: ContentType.PARAGRAPH, text: "أفضل طريقة لتعلم الخريطة هي التجول بنفسك. الأمر `ls -la` هو أفضل صديق لك في هذه الجولة. إنه يعرض لك قائمة مفصلة بكل شيء داخل أي مجلد، حتى الملفات المخفية. دعنا نلقي نظرة على مخرجاته ونفككها سطرًا بسطر:"},
                  { type: ContentType.CODE_EXPLANATION, language: "bash", codeTitle: "مثال على مخرجات `ls -la /home`", code: "drwxr-xr-x  4 nagi  nagi   4096 Jun 11 10:30 .", explanations: [
                      { lines: "1", explanation: "`d`rwxr-xr-x: الحرف الأول يحدد النوع. `d` يعني دليل (directory)، `-` يعني ملف عادي." },
                      { lines: "1", explanation: "d`rwx`r-xr-x: الأحرف الثلاثة التالية هي أذونات المالك (User). `r` (read)، `w` (write)، `x` (execute). هنا، المالك `nagi` يمكنه القراءة والكتابة والتنفيذ." },
                      { lines: "1", explanation: "drwx`r-x`r-x: الأحرف الثلاثة الوسطى هي أذونات المجموعة (Group). `r-x` تعني أن أعضاء المجموعة `nagi` يمكنهم القراءة والتنفيذ، ولكن ليس الكتابة." },
                      { lines: "1", explanation: "drwxr-x`r-x`: الأحرف الثلاثة الأخيرة هي أذونات الآخرين (Others). أي مستخدم آخر على النظام يمكنه القراءة والتنفيذ فقط." },
                      { lines: "1", explanation: "`4`: عدد الروابط (Links) للملف أو المجلد." },
                      { lines: "1", explanation: "`nagi`: اسم المستخدم المالك (Owner)." },
                      { lines: "1", explanation: "`nagi`: اسم المجموعة المالكة (Group)." },
                      { lines: "1", explanation: "`4096`: حجم الملف بالبايت." },
                      { lines: "1", explanation: "`Jun 11 10:30`: تاريخ ووقت آخر تعديل." },
                      { lines: "1", explanation: "`.`: اسم الملف أو المجلد (النقطة هنا تشير إلى المجلد الحالي)." }
                  ]},
                  { type: ContentType.PARAGRAPH, text: "إتقان قراءة هذه المخرجات يمنحك رؤية فورية لمن يملك ماذا ومن يمكنه فعل ماذا، وهي مهارة لا تقدر بثمن في إدارة الخادم وتأمين ملفاتك."}
                ]
            }
          ]
        },
        {
            id: "p1_c2",
            chapterTitle: "الفصل الثاني: إدارة المستخدمين والوصول الآمن",
            sections: [
              {
                id: "p1_c2_s1",
                icon: "👤",
                title: "المستوى 5: إنشاء مستخدم إداري جديد (بديل لـ `root`)",
                content: [
                  { type: ContentType.PARAGRAPH, text: "العمل بشكل مستمر باستخدام حساب `root` هو أحد أخطر الممارسات في إدارة الخوادم. حساب `root` يمتلك صلاحيات مطلقة؛ أي أمر خاطئ، حتى لو كان مجرد خطأ إملائي، يمكن أن يؤدي إلى حذف ملفات نظام حيوية أو إيقاف خدمات أساسية، مما قد يتسبب في تدمير الخادم بالكامل. علاوة على ذلك، لا يوجد سجل واضح يوضح 'من' قام بالتغييرات عندما يتم كل شيء عبر `root`." },
                  { type: ContentType.HEADING4, text: "فلسفة 'أقل الامتيازات'"},
                  { type: ContentType.PARAGRAPH, text: "المبدأ الأمني الأساسي هنا هو 'مبدأ أقل الامتيازات' (Principle of Least Privilege). ينص هذا المبدأ على أن أي مستخدم أو برنامج يجب أن يمتلك فقط الحد الأدنى من الامتيازات اللازمة لأداء وظيفته. بالنسبة لنا، هذا يعني أننا سنستخدم حسابًا عاديًا للمهام اليومية، وعندما نحتاج إلى تنفيذ أمر يتطلب صلاحيات إدارية، سنقوم 'برفع' امتيازاتنا مؤقتًا لتلك المهمة المحددة فقط باستخدام أداة `sudo`." },
                  { type: ContentType.PARAGRAPH, text: "فكر في الأمر كالتالي: حساب `root` هو المفتاح الرئيسي لمبنى بأكمله. استخدامه باستمرار يشبه التجول بهذا المفتاح معلقًا في حزامك طوال اليوم، مما يزيد من خطر فقدانه أو سرقته. أما المستخدم العادي الذي يملك صلاحيات `sudo` فهو أشبه بحارس أمن يحمل بطاقته الخاصة، وعندما يحتاج للدخول إلى غرفة محظورة، يمرر بطاقته على قارئ (يكتب `sudo`) ويُدخل رمزًا سريًا (كلمة المرور)، ويتم تسجيل هذا الدخول في سجلات الأمن. هذا هو النهج الأكثر أمانًا ومسؤولية." },
                  { type: ContentType.HEADING4, text: "الخطوات العملية لإنشاء المستخدم"},
                  { type: ContentType.PARAGRAPH, text: "سنقوم الآن بإنشاء مستخدم جديد، والذي ستستخدمه لتسجيل الدخول إلى الخادم من الآن فصاعدًا. سأستخدم الاسم `nagi` كمثال، ولكن يجب عليك اختيار اسم مستخدم خاص بك." },
                  { type: ContentType.CODE_EXPLANATION, language: "bash", codeTitle: "إنشاء مستخدم جديد وإعطاؤه صلاحيات sudo", code: "adduser nagi\nusermod -aG sudo nagi", explanations: [ 
                      { lines: "1", explanation: "`adduser nagi`: هذا ليس مجرد أمر لإنشاء مستخدم، بل هو نص برمجي تفاعلي. سيقوم بإنشاء المستخدم `nagi`، وإنشاء مجموعة أساسية بنفس الاسم، وإنشاء مجلد منزلي في `/home/nagi`، ونسخ الملفات الأساسية (skeleton files) إلى هذا المجلد. الأهم من ذلك، أنه سيطلب منك تعيين كلمة مرور قوية لهذا المستخدم الجديد. اختر كلمة مرور قوية واحتفظ بها بأمان." }, 
                      { lines: "2", explanation: "`usermod -aG sudo nagi`: هذا هو الأمر الذي يمنح المستخدم الجديد القوة. دعنا نحلله: `usermod` (تعديل مستخدم)، `-a` (إضافة - append، وهي مهمة جدًا حتى لا نحذف المجموعات الأخرى التي ينتمي إليها المستخدم)، `-G` (تحديد المجموعات الثانوية)، `sudo` (اسم المجموعة التي تمنح صلاحيات إدارية)، و`nagi` (المستخدم المستهدف). بإضافة `nagi` إلى مجموعة `sudo`، نحن نقول للنظام: 'هذا المستخدم موثوق به ويمكنه تنفيذ الأوامر كـ `root` عند الطلب'." } 
                  ] },
                   { type: ContentType.NOTE, title: "التحقق من النجاح", text: "للتحقق من أن كل شيء يعمل، قم بالتبديل إلى المستخدم الجديد باستخدام الأمر `su - nagi`. ثم، حاول تنفيذ أمر يتطلب صلاحيات إدارية، مثل `sudo apt update`. إذا طلب منك كلمة مرور المستخدم `nagi` (وليس `root`) ونفذ الأمر بنجاح، فهذا يعني أنك قد نجحت في إنشاء بديل آمن وفعال لحساب `root`." },
                ]
              },
              {
                id: "p1_c2_s2",
                icon: "🔑",
                title: "المستوى 6: إعداد المصادقة عبر مفاتيح SSH (البوابة المحصنة)",
                content: [
                  { type: ContentType.PARAGRAPH, text: "في المستويات السابقة، قمنا بالاتصال بالخادم باستخدام كلمة مرور. على الرغم من أن هذا يعمل، إلا أنه يترك بابًا مفتوحًا للهجمات. كلمات المرور، حتى القوية منها، يمكن تخمينها أو كسرها باستخدام هجمات القوة الغاشمة (Brute-force attacks)، حيث تجرب الروبوتات الآلية آلاف المجموعات في الثانية. الحل الأكثر أمانًا بمراحل هو استخدام المصادقة القائمة على المفاتيح." },
                  { type: ContentType.HEADING4, text: "كلمات المرور مقابل المفاتيح: مقارنة بسيطة"},
                  { type: ContentType.DEFINITION_LIST, definitionItems: [
                    { term: "كلمة المرور", definition: "هي 'سر تعرفه'. قوتها تعتمد على طولها وتعقيدها، ولكنها في النهاية مجرد سلسلة من الأحرف يمكن تخمينها." },
                    { term: "مفتاح SSH", definition: "هو 'سر تملكه'. إنه ملف رقمي فريد. بدلاً من تخمين كلمة مرور قصيرة، سيحتاج المهاجم إلى سرقة ملف المفتاح الخاص بك من جهاز الكمبيوتر الخاص بك، وهو أمر أكثر صعوبة بكثير."}
                  ]},
                  { type: ContentType.HEADING4, text: "كيف تعمل مفاتيح SSH؟ (شرح مبسط)"},
                  { type: ContentType.PARAGRAPH, text: "عندما ننشئ مفتاح SSH، فإننا في الواقع ننشئ زوجًا من المفاتيح المترابطة رياضيًا:"},
                  { type: ContentType.LIST_UNORDERED, items: [
                    "<strong>المفتاح الخاص (Private Key):</strong> يبقى على جهاز الكمبيوتر المحلي الخاص بك. يجب أن تحافظ عليه سريًا تمامًا مثل كلمة مرور حسابك المصرفي. إنه 'المفتاح' الفعلي.",
                    "<strong>المفتاح العام (Public Key):</strong> هذا هو 'القفل'. يمكنك توزيعه ونسخه بأمان إلى أي خادم تريد الوصول إليه. لا يمكن استخدامه لتسجيل الدخول، فقط لإقفال الباب."
                  ]},
                  { type: ContentType.PARAGRAPH, text: "عندما تضع المفتاح العام على خادمك، وعندما تحاول تسجيل الدخول، يحدث تحدٍ رياضي. يرسل الخادم رسالة مشفرة باستخدام مفتاحك العام. فقط مفتاحك الخاص الموجود على جهازك يمكنه فك تشفير هذه الرسالة وإرسال الرد الصحيح، مما يثبت هويتك ويسمح لك بالدخول. كل هذا يحدث في أجزاء من الثانية وبشكل آمن تمامًا."},
                  { type: ContentType.HEADING4, text: "خطوات إنشاء ونسخ مفتاحك"},
                  { type: ContentType.PARAGRAPH, text: "الآن، لنقم بإنشاء هذه المفاتيح ووضع 'القفل' على باب خادمنا."},
                  { type: ContentType.CODE_EXPLANATION, language: "bash", codeTitle: "إنشاء ونسخ مفتاح SSH", code: "# الخطوة 1: على جهازك المحلي (Local Machine)\nssh-keygen -t rsa -b 4096\n\n# الخطوة 2: نسخ المفتاح العام إلى الخادم\nssh-copy-id nagi@YOUR_SERVER_IP", explanations: [ 
                      { lines: "2", explanation: "قم بتنفيذ هذا الأمر على جهاز الكمبيوتر الخاص بك، وليس على الخادم. `ssh-keygen` هو الأداة لإنشاء المفاتيح. `-t rsa` يحدد نوع الخوارزمية (وهو معيار شائع وموثوق). `-b 4096` يحدد قوة المفتاح بالبت. 4096 بت يعتبر آمنًا جدًا. سيطلب منك تحديد مكان حفظ المفتاح (اضغط Enter للقبول بالمسار الافتراضي `~/.ssh/id_rsa`) وكلمة مرور اختيارية للمفتاح نفسه (لزيادة الأمان، لكن يمكن تركها فارغة للمبتدئين)." }, 
                      { lines: "5", explanation: "هذا الأمر السحري هو أسهل طريقة لنسخ مفتاحك العام إلى الخادم. استبدل `nagi` باسم المستخدم الذي أنشأته و`YOUR_SERVER_IP` بعنوان IP الخاص بخادمك. سيطلب منك كلمة مرور المستخدم `nagi` للمرة الأخيرة. ما يفعله الأمر في الخلفية هو تسجيل الدخول، والعثور على ملف `~/.ssh/authorized_keys` على الخادم (أو إنشائه إذا لم يكن موجودًا)، ثم يضيف محتوى مفتاحك العام (`id_rsa.pub`) إليه بأمان. كما أنه يضبط الأذونات الصحيحة للملف والمجلد، وهي خطوة حاسمة يخطئ فيها الكثيرون عند النسخ اليدوي." } 
                  ] },
                   { type: ContentType.NOTE, title: "حان وقت الاختبار!", text: "بعد اكتمال الأمر `ssh-copy-id`، حاول تسجيل الدخول مرة أخرى: `ssh nagi@YOUR_SERVER_IP`. إذا نجح كل شيء، يجب أن تدخل إلى الخادم مباشرة دون أن يطلب منك كلمة مرور. لقد فتحت للتو بوابتك المحصنة!" },
                ]
              },
              {
                id: "p1_c2_s3",
                icon: "🛡️",
                title: "المستوى 7: تحصين خدمة SSH (إغلاق الأبواب الخلفية)",
                content: [
                  { type: ContentType.PARAGRAPH, text: "الآن بعد أن أنشأنا مدخلًا رئيسيًا آمنًا ومحصنًا (المستخدم الجديد مع مفتاح SSH)، حان الوقت لإغلاق الأبواب القديمة والضعيفة بشكل دائم. سنقوم بتعطيل طريقتين شائعتين يستخدمهما المهاجمون لاستهداف الخوادم: تسجيل الدخول المباشر للمستخدم `root`، والمصادقة باستخدام كلمات المرور لأي مستخدم." },
                  { type: ContentType.HEADING4, text: "ملف التكوين: `/etc/ssh/sshd_config`"},
                  { type: ContentType.PARAGRAPH, text: "هذا الملف هو لوحة التحكم المركزية لخدمة SSH على خادمك. أي تغييرات نجريها هنا ستغير سلوك كيفية قبول الخادم للاتصالات. سنتعامل معه بحذر، وسنستخدم الأمر `sudo nano` لفتحه وتحريره بصلاحيات إدارية: `sudo nano /etc/ssh/sshd_config`." },
                  { type: ContentType.HEADING4, text: "الخطوة 1: تعطيل تسجيل دخول Root"},
                  { type: ContentType.PARAGRAPH, text: "داخل الملف، ابحث عن السطر الذي يبدأ بـ `PermitRootLogin`. على الأرجح ستكون قيمته `yes` أو `prohibit-password`. قم بتغيير هذه القيمة إلى `no`."},
                  { type: ContentType.CODE_BLOCK, language: "bash", code:"# /etc/ssh/sshd_config\n\nPermitRootLogin no" },
                  { type: ContentType.PARAGRAPH, text: "لماذا؟ لأن `root` هو اسم المستخدم الأكثر استهدافًا في الهجمات الآلية. إذا عرف المهاجم أن تسجيل الدخول كـ `root` مستحيل، فإنه قد يتخلى عن مهاجمة خادمك تمامًا. هذا يجبر أي شخص (بمن فيهم أنت) على تسجيل الدخول أولاً كمستخدم عادي ثم استخدام `sudo` للمهام الإدارية، مما يترك أثرًا يمكن تتبعه." },
                  { type: ContentType.HEADING4, text: "الخطوة 2: تعطيل المصادقة بكلمة المرور"},
                  { type: ContentType.PARAGRAPH, text: "في نفس الملف، ابحث عن السطر `PasswordAuthentication`. إذا كان مسبوقًا بعلامة `#`، فاحذفها. ثم غير القيمة إلى `no`."},
                  { type: ContentType.CODE_BLOCK, language: "bash", code:"# /etc/ssh/sshd_config\n\nPasswordAuthentication no" },
                  { type: ContentType.PARAGRAPH, text: "هذه هي الضربة القاضية لهجمات القوة الغاشمة. بتعيين هذه القيمة إلى `no`، فإنك تخبر خادم SSH بتجاهل أي محاولة تسجيل دخول تستخدم كلمة مرور. الطريقة الوحيدة المقبولة الآن هي المصادقة باستخدام مفتاح SSH. لقد جعلت للتو مهمة المهاجمين الآليين مستحيلة."},
                  { type: ContentType.HEADING4, text: "تطبيق التغييرات وإعادة التشغيل"},
                  { type: ContentType.PARAGRAPH, text: "بعد حفظ الملف والخروج من `nano` (Ctrl+X, ثم Y, ثم Enter)، يجب أن نخبر خدمة SSH بإعادة قراءة ملف التكوين الجديد. نفعل ذلك باستخدام الأمر: `sudo systemctl restart sshd`. `systemctl` هي الأداة القياسية لإدارة الخدمات (daemons) في لينكس الحديث."},
                  { type: ContentType.NOTE, title: "تحذير! لا تقفل على نفسك!", text: "هذه هي أهم ملاحظة في هذا الفصل. قبل أن تسجل الخروج من جلستك الحالية، افتح نافذة طرفية **جديدة** وحاول تسجيل الدخول مرة أخرى باستخدام `ssh nagi@YOUR_SERVER_IP`. إذا تمكنت من الدخول بنجاح (بدون كلمة مرور)، فهذا يعني أن تغييراتك صحيحة وآمنة. إذا فشلت، فهذا يعني أن هناك خطأ ما، وما زال لديك نافذتك الأصلية المفتوحة لإصلاحه. لا تغلق النافذة الأصلية أبدًا حتى تتأكد 100% من أنك تستطيع الدخول مرة أخرى." },
                ]
              },
              generatePlaceholderSection(1, 2, 4, "تغيير منفذ SSH الافتراضي (المستوى 8)"),
              generatePlaceholderSection(1, 2, 5, "استخدام `su` و `sudo` بفعالية (المستوى 9)"),
            ]
        },
        {
          id: "p1_c3",
          chapterTitle: "الفصل الثالث: تكوين جدار الحماية (UFW)",
          sections: [
             {
              id: "p1_c3_s1",
              icon: "🔥",
              title: "المستوى 10: بناء جدار الحماية الأساسي (UFW)",
              content: [
                { type: ContentType.PARAGRAPH, text: "الآن بعد أن حصّنا الباب الأمامي (SSH)، حان الوقت لبناء جدار حول قلعتنا الرقمية. تخيل خادمك كمبنى مهم يحتوي على 65,535 بابًا (منفذًا). بدون جدار حماية، تكون معظم هذه الأبواب مفتوحة على مصراعيها لأي شخص يمر في الشارع الرقمي. مهمة جدار الحماية هي العمل كحارس أمن صارم ومنهجي. سنستخدم أداة `UFW` (Uncomplicated Firewall)، وهي واجهة سهلة الاستخدام لنظام `iptables` المعقد في نواة لينكس." },
                { type: ContentType.HEADING4, text: "فلسفة 'الرفض الاftراضي': العقلية الأمنية الصحيحة" },
                { type: ContentType.PARAGRAPH, text: "هناك طريقتان لبناء جدار حماية. الطريقة الأولى، والخطيرة، هي 'السماح الاftراضي': ترك كل الأبواب مفتوحة ثم محاولة إغلاق الأبواب التي تعرف أنها خطيرة. هذا النهج محكوم عليه بالفشل، لأنك ستنسى حتمًا بابًا أو اثنين. الطريقة الثانية، والأكثر أمانًا بمراحل، هي 'الرفض الاftراضي' (Default Deny). هذه هي الفلسفة التي سنتبناها. إنها بسيطة وقوية: **أغلق كل الأبواب أولاً، ثم افتح فقط الأبواب التي تحتاجها بشكل صريح.** هذا يغير المعادلة من 'ما الذي يجب أن أحظره؟' إلى 'ما الذي يجب أن أسمح به؟'، وهو سؤال أسهل وأكثر أمانًا للإجابة عليه." },
                { type: ContentType.HEADING4, text: "تكوين UFW خطوة بخطوة: بناء الجدار" },
                { type: ContentType.PARAGRAPH, text: "سنقوم الآن بتنفيذ هذه الفلسفة باستخدام سلسلة من الأوامر المنطقية. كل أمر يبني على الذي يسبقه لإنشاء دفاع متين." },
                {
                  type: ContentType.CODE_EXPLANATION,
                  language: "bash",
                  codeTitle: "تكوين UFW خطوة بخطوة",
                  code: `# 1. ضبط السياسات الاftراضية
sudo ufw default deny incoming
sudo ufw default allow outgoing

# 2. السماح باتصالات SSH (الأهم على الإطلاق)
sudo ufw allow OpenSSH

# 3. السماح بحركة مرور الويب (اختياري الآن، ضروري لاحقًا)
sudo ufw allow http
sudo ufw allow https

# 4. تفعيل جدار الحماية
sudo ufw enable`,
                  explanations: [
                    { lines: "2", explanation: "هذا هو حجر الزاوية. نحن نأمر حارس الأمن الاftراضي لدينا برفض أي شخص يحاول الدخول عبر أي باب (`deny incoming`). هذا هو تطبيقنا المباشر لسياسة 'الرفض الاftراضي'." },
                    { lines: "3", explanation: "هنا، نسمح للمقيمين داخل المبنى (خادمنا) ببدء الاتصالات مع العالم الخارجي (`allow outgoing`). هذا ضروري حتى يتمكن الخادم من تنزيل التحديثات، أو الاتصال بواجهات برمجة التطبيقات الخارجية، إلخ. إنه آمن بشكل عام لأننا نثق في العمليات التي تعمل على خادمنا." },
                    { lines: "6", explanation: "هذه هي أهم خطوة في العملية بأكملها. قبل أن نغلق الأبواب، يجب أن نتأكد من أن لدينا مفتاحًا للدخول! `OpenSSH` هو 'ملف تعريف تطبيق' يفهمه UFW، وهو اختصار لـ 'اسمح بالاتصالات على المنفذ 22'. إذا نسيت هذه الخطوة وقمت بتفعيل جدار الحماية، فسيتم طردك من جلستك الحالية ولن تتمكن من العودة مرة أخرى. ستقفل على نفسك خارج قلعتك!" },
                    { lines: "9-10", explanation: "نحن نفتح بشكل استباقي الأبواب التي سنحتاجها لاحقًا لتشغيل خادم ويب. `http` هو المنفذ 80 و `https` هو المنفذ 443. من الأفضل إضافتها الآن لتجنب المشاكل في المستقبل." },
                    { lines: "13", explanation: "هذا هو الأمر الذي يضع حارس الأمن على بوابته. سيقوم UFW بتحميل القواعد التي أنشأناها في نواة لينكس ويبدأ في تصفية حركة المرور. سيحذرك من أن المتابعة قد تقطع الاتصالات الحالية (وهو ما نتوقعه ونريده). اكتب 'y' واضغط `Enter` للتأكيد. لقد أصبح جدار الحماية الخاص بك نشطًا الآن." }
                  ]
                },
                 { type: ContentType.NOTE, title: "ماذا يحدث حقًا؟", text: "عندما تقوم بتشغيل هذه الأوامر، يقوم UFW بترجمتها إلى مجموعة من القواعد المعقدة لـ `iptables`، وهو جدار الحماية المدمج في نواة لينكس. UFW هو مجرد غلاف يجعل هذه العملية المعقدة بسيطة ومفهومة للبشر. لقد قمت للتو بتكوين نظام أمان قوي في بضع دقائق فقط." },
              ]
            },
            {
              id: "p1_c3_s2",
              icon: "🔎",
              title: "المستوى 11: التحقق من حالة وقواعد UFW والمراقبة",
              content: [
                { type: ContentType.PARAGRAPH, text: "بعد بناء جدارنا، لا يكفي أن نفترض أنه يعمل. يجب أن نتحقق من قواعده ونعرف كيف نراقب نشاطه. الثقة في أدواتك الأمنية تأتي من القدرة على التحقق منها بشكل مستقل. هذا المستوى يدور حول التفتيش والمراقبة." },
                { type: ContentType.HEADING4, text: "التحقق من الحالة: `status` و `status verbose`" },
                { type: ContentType.PARAGRAPH, text: "يوفر UFW طريقتين أساسيتين للتحقق من حالته. الأمر البسيط يعطيك لمحة سريعة، بينما الأمر المطول يعطيك التفاصيل الكاملة." },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo ufw status" },
                { type: ContentType.PARAGRAPH, text: "الناتج سيكون بسيطًا: `Status: active`، ويتبعه قائمة بالقواعد مثل `To                         Action      From\n--                         ------      ----\nOpenSSH                    ALLOW       Anywhere`. هذا جيد للتأكيد السريع على أن الجدار نشط وأن قواعدك الأساسية موجودة." },
                { type: ContentType.PARAGRAPH, text: "ولكن للحصول على رؤية أعمق، استخدم `verbose`:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo ufw status verbose" },
                { type: ContentType.PREFORMATTED_TEXT, text: `Status: active
Logging: on (low)
Default: deny (incoming), allow (outgoing), disabled (routed)
New profiles: skip

To                         Action      From
--                         ------      ----
22/tcp (OpenSSH)           ALLOW IN    Anywhere
80/tcp (http)              ALLOW IN    Anywhere
443/tcp (https)            ALLOW IN    Anywhere`},
                { type: ContentType.PARAGRAPH, text: "هنا نرى معلومات أكثر قيمة: حالة التسجيل (Logging)، والسياسات الاftراضية التي قمنا بتعيينها، والأهم من ذلك، تفاصيل المنافذ والبروتوكولات (مثل `22/tcp`) لكل قاعدة." },
                { type: ContentType.HEADING4, text: "المراقبة: تشغيل السجلات وقراءتها" },
                { type: ContentType.PARAGRAPH, text: "التحقق من القواعد يخبرك بما *يجب* أن يحدث. لكن قراءة السجلات تخبرك بما *يحدث بالفعل*. بشكل افتراضي، يكون تسجيل UFW متوقفًا. لنقم بتشغيله:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo ufw logging on" },
                { type: ContentType.PARAGRAPH, text: "سيؤدي هذا إلى بدء UFW في كتابة إدخالات لكل اتصال يتم حظره (أو السماح به، حسب مستوى التسجيل) إلى ملف `/var/log/ufw.log`. هذا الملف هو منجم ذهب للمعلومات." },
                { type: ContentType.PARAGRAPH, text: "لمشاهدة السجل في الوقت الفعلي، استخدم:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo tail -f /var/log/ufw.log" },
                { type: ContentType.PARAGRAPH, text: "سترى إدخالات تبدو معقدة في البداية، ولكنها سهلة الفهم بمجرد تفكيكها:" },
                { type: ContentType.PREFORMATTED_TEXT, text: "[UFW BLOCK] IN=eth0 OUT= MAC=... SRC=123.45.67.89 DST=YOUR_SERVER_IP ... PROTO=TCP SPT=54321 DPT=23 ..." },
                { type: ContentType.DEFINITION_LIST, definitionItems: [
                    { term: "[UFW BLOCK]", definition: "أهم جزء: UFW حظر هذا الاتصال." },
                    { term: "SRC=123.45.67.89", definition: "عنوان IP المصدر الذي حاول الاتصال." },
                    { term: "DST=YOUR_SERVER_IP", definition: "عنوان IP الوجهة (خادمك)." },
                    { term: "DPT=23", definition: "منفذ الوجهة (Destination Port). في هذا المثال، حاول شخص ما الاتصال بمنفذ Telnet (23)، والذي قمنا بحظره بحق. هذا دليل فوري على أن جدار الحماية الخاص بك يقوم بعمله!" },
                ]},
                { type: ContentType.NOTE, title: "لماذا المراقبة مهمة؟", text: "تساعدك مراقبة السجلات على فهم أنواع الهجمات التي يتعرض لها خادمك، وتصحيح أخطاء قواعد جدار الحماية (على سبيل المثال، إذا كان تطبيق شرعي يتم حظره عن طريق الخطأ)، وتوفير أدلة للتحليل الجنائي في حالة حدوث اختراق." },
              ]
            },
            {
              id: "p1_c3_s3",
              icon: "⏱️",
              title: "المستوى 12: الحماية من هجمات القوة الغاشمة بـ UFW Limit",
              content: [
                { type: ContentType.PARAGRAPH, text: "لقد قمنا بتحصين وصول SSH باستخدام المفاتيح، ولكن هذا لا يمنع المهاجمين من محاولة الطرق على الباب بلا توقف. كل محاولة اتصال فاشلة لا تزال تستهلك موارد ضئيلة من الخادم وتملأ سجلاتك بالضوضاء. هجمات القوة الغاشمة (Brute-force attacks) على SSH هي من أكثر أنواع الهجمات الآلية شيوعًا على الإنترنت. لحسن الحظ، لدى UFW آلية ذكية ومدمجة للتعامل مع هذا النوع من السلوك." },
                { type: ContentType.HEADING4, text: "ما هي هجمة القوة الغاشمة؟" },
                { type: ContentType.PARAGRAPH, text: "تخيل أن لصًا يحاول فتح بابك ولديه حلقة مفاتيح تحتوي على ملايين المفاتيح. يبدأ بتجربتها واحدًا تلو الآخر. هذا هو بالضبط ما تفعله هجمة القوة الغاشمة: يقوم برنامج آلي (روبوت) بالاتصال بمنفذ SSH الخاص بك ويجرب آلافًا من أسماء المستخدمين وكلمات المرور الشائعة. على الرغم من أننا عطلنا المصادقة بكلمة المرور، مما يجعل الهجوم غير فعال، إلا أن المحاولات نفسها لا تزال تصل إلى الخادم." },
                { type: ContentType.HEADING4, text: "آلية `limit`: الحارس الذكي" },
                { type: ContentType.PARAGRAPH, text: "أمر `limit` في UFW أكثر ذكاءً من مجرد `allow` أو `deny`. إنه يعمل كحارس أمن يراقب سلوك الزوار. عندما تخبر UFW بـ `limit` على خدمة مثل SSH، فإنه يقول: 'اسمح بالاتصالات، ولكن إذا حاول نفس عنوان IP الاتصال عدة مرات في فترة زمنية قصيرة، فافترض أنه يتصرف بشكل مريب وارفض اتصالاته مؤقتًا'." },
                { type: ContentType.PARAGRAPH, text: "على وجه التحديد، إذا تلقى UFW ست محاولات اتصال أو أكثر من نفس عنوان IP في غضون 30 ثانية، فسيقوم بحظر هذا العنوان تمامًا. هذا فعال للغاية ضد الروبوتات سريعة الإطلاق التي تشكل غالبية هجمات القوة الغاشمة." },
                { type: ContentType.HEADING4, text: "التطبيق العملي" },
                { type: ContentType.PARAGRAPH, text: "تطبيق هذه الحماية بسيط للغاية. بدلاً من استخدام `allow` لـ SSH، نستخدم `limit`. إذا كنت قد أضفت القاعدة بالفعل، فسنحذفها أولاً ثم نضيف القاعدة الجديدة." },
                { type: ContentType.CODE_EXPLANATION, language: "bash", codeTitle: "تطبيق قاعدة Limit على SSH", code: `# أولاً، اعرض القواعد بالأرقام لتسهيل الحذف
sudo ufw status numbered

# افترض أن قاعدة "allow OpenSSH" هي رقم 5، على سبيل المثال
sudo ufw delete 5

# الآن، أضف قاعدة limit بدلاً منها
sudo ufw limit ssh`, explanations: [
                    { lines: "2", explanation: "هذا الأمر يعرض لك قائمة القواعد المرقمة، مما يجعل من السهل استهداف قاعدة معينة لحذفها دون الحاجة إلى كتابة القاعدة بأكملها." },
                    { lines: "5", explanation: "نحذف قاعدة `allow` القديمة. إذا لم تكن قد أضفتها من قبل، يمكنك تخطي هذه الخطوة." },
                    { lines: "8", explanation: "هذا هو التغيير الرئيسي. نحن الآن نطبق آلية الحد من المعدل على منفذ SSH. يمكنك أيضًا كتابتها كـ `sudo ufw limit 22/tcp`." }
                  ]
                },
                { type: ContentType.NOTE, title: "هل هذا كافٍ؟", text: "قاعدة `limit` هي خط دفاع أول ممتاز ضد الهجمات البسيطة. ومع ذلك، يمكن للمهاجمين الأكثر تطورًا استخدام شبكة من الروبوتات (botnet) لمهاجمتك ببطء من آلاف عناوين IP المختلفة، مما قد يتجاوز هذه الحماية. في فصول لاحقة، سنتناول أدوات أكثر قوة مثل `fail2ban`، التي يمكنها تحليل السجلات بشكل أكثر ذكاءً وحظر المهاجمين لفترات أطول. لكن في الوقت الحالي، تعد قاعدة `limit` تحسينًا هائلاً على قاعدة `allow` البسيطة." },
              ]
            },
            {
              id: "p1_c3_s4",
              icon: "🏷️",
              title: "المستوى 13: فهم وإنشاء ملفات تعريف تطبيقات UFW",
              content: [
                { type: ContentType.PARAGRAPH, text: "لقد استخدمنا أسماء مثل `OpenSSH` و `http` في قواعدنا. من أين تأتي هذه الأسماء؟ إنها ليست مجرد كلمات سحرية، بل هي اختصارات مفيدة تسمى 'ملفات تعريف التطبيقات' (Application Profiles). فهم هذه الملفات وكيفية إنشاء ملفاتك الخاصة هو خطوة نحو إدارة جدار الحماية بشكل احترافي ونظيف." },
                { type: ContentType.HEADING4, text: "استكشاف ملفات التعريف الموجودة" },
                { type: ContentType.PARAGRAPH, text: "يخزن UFW ملفات التعريف هذه في دليل `/etc/ufw/applications.d/`. دعنا نلقي نظرة على محتويات هذا الدليل:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "ls /etc/ufw/applications.d/" },
                { type: ContentType.PARAGRAPH, text: "سترى على الأرجح ملفًا يسمى `openssh-server`. هذا هو الملف الذي يحدد ملف تعريف `OpenSSH` الذي استخدمناه. دعنا نفحص محتوياته:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo cat /etc/ufw/applications.d/openssh-server" },
                { type: ContentType.PREFORMATTED_TEXT, text: `[OpenSSH]
title=Secure shell server, an rshd replacement
description=SSH is a protocol for remote administration and file transfer.
ports=22/tcp`},
                { type: ContentType.PARAGRAPH, text: "كما ترى، إنه ملف نصي بسيط للغاية بتنسيق INI. يحدد الاسم بين القوسين المعقوفين `[OpenSSH]`، وعنوانًا ووصفًا، والأهم من ذلك، المنافذ والبروتوكولات التي يستخدمها التطبيق." },
                { type: ContentType.HEADING4, text: "لماذا نستخدم ملفات التعريف؟" },
                { type: ContentType.PARAGRAPH, text: "قد تتساءل، لماذا كل هذا العناء بدلاً من كتابة `sudo ufw allow 22/tcp` مباشرة؟" },
                { type: ContentType.LIST_UNORDERED, items: [
                  "<strong>الوضوح:</strong> `ufw allow 'My Web App'` أكثر وضوحًا وقراءة من `ufw allow 8080/tcp`.",
                  "<strong>الصيانة:</strong> إذا تغير منفذ تطبيقك، يمكنك تحديث ملف التعريف في مكان واحد بدلاً من البحث عن جميع القواعد التي تستخدم هذا المنفذ وحذفها وإعادة إنشائها.",
                  "<strong>التعقيد:</strong> بعض التطبيقات تستخدم نطاقات من المنافذ (مثل FTP). يمكن تحديد كل هذه المنافذ في ملف تعريف واحد لتبسيط إدارة القواعد.",
                ]},
                { type: ContentType.HEADING4, text: "إنشاء ملف تعريف مخصص" },
                { type: ContentType.PARAGRAPH, text: "لنفترض أنك قمت بتطوير واجهة برمجة تطبيقات (API) تعمل على المنفذ 9000. بدلاً من تذكر هذا الرقم دائمًا، سننشئ ملف تعريف له. سنقوم بإنشاء ملف جديد في دليل ملفات التعريف:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo nano /etc/ufw/applications.d/my-api-profile" },
                { type: ContentType.PARAGRAPH, text: "داخل محرر `nano`، الصق المحتوى التالي:" },
                { type: ContentType.CODE_BLOCK, language: "ini", code: `[MyCustomAPI]
title=My NodeJS Custom API Server
description=API server for my awesome project
ports=9000/tcp`},
                { type: ContentType.PARAGRAPH, text: "احفظ الملف واخرج. الآن، يجب أن نخبر UFW بإعادة تحميل ملفات التعريف:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo ufw app update MyCustomAPI" },
                { type: ContentType.PARAGRAPH, text: "ويمكننا الآن استخدام اسمنا المخصص في قاعدة جديدة:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo ufw allow MyCustomAPI" },
                { type: ContentType.NOTE, title: "نظافة واحترافية", text: "إنشاء ملفات تعريف مخصصة هو علامة على مدير نظام دقيق ومنظم. إنه يجعل تكوين جدار الحماية الخاص بك موثقًا ذاتيًا وسهل الفهم لك ولأي شخص آخر قد يعمل على الخادم في المستقبل." },
              ]
            },
            {
              id: "p1_c3_s5",
              icon: "🔢",
              title: "المستوى 14: إدارة قواعد UFW المتقدمة (الحذف والإدراج)",
              content: [
                { type: ContentType.PARAGRAPH, text: "مع نمو تكوين خادمك، ستحتاج حتمًا إلى تعديل قواعد جدار الحماية الخاصة بك. قد تحتاج إلى إزالة قاعدة قديمة، أو إدراج قاعدة جديدة في موضع محدد. هذا المستوى يغطي كيفية إدارة قواعدك بفعالية ودقة." },
                { type: ContentType.HEADING4, text: "حذف القواعد: طريقتان" },
                { type: ContentType.PARAGRAPH, text: "هناك طريقتان لحذف قاعدة من UFW. الطريقة الأولى هي عن طريق تحديد القاعدة نفسها، والطريقة الثانية، وهي الأكثر دقة، هي عن طريق رقمها." },
                { type: ContentType.PARAGRAPH, text: "<strong>الطريقة الأولى: الحذف حسب المواصفات</strong>" },
                { type: ContentType.PARAGRAPH, text: "يمكنك حذف قاعدة عن طريق كتابة `delete` متبوعة بالقاعدة التي تريد إزالتها. على سبيل المثال، لحذف قاعدة HTTP التي أضفناها سابقًا:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo ufw delete allow http" },
                { type: ContentType.PARAGRAPH, text: "هذا يعمل بشكل جيد للقواعد البسيطة. ولكن ماذا لو كان لديك قاعدة أكثر تعقيدًا، مثل `allow from 192.168.1.100`؟ قد يكون من السهل ارتكاب خطأ إملائي. لهذا السبب، الطريقة الثانية أفضل." },
                { type: ContentType.PARAGRAPH, text: "<strong>الطريقة الثانية: الحذف بالرقم (الأفضل)</strong>" },
                { type: ContentType.PARAGRAPH, text: "هذه هي الطريقة الموصى بها. أولاً، اعرض القواعد مع أرقامها:" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo ufw status numbered" },
                { type: ContentType.PREFORMATTED_TEXT, text: `Status: active

     To                         Action      From
     --                         ------      ----
[ 1] 22/tcp (limit)             LIMIT IN    Anywhere
[ 2] 80/tcp                     ALLOW IN    Anywhere
[ 3] 443/tcp                    ALLOW IN    Anywhere`},
                { type: ContentType.PARAGRAPH, text: "الآن، يمكنك حذف القاعدة التي تريدها ببساطة عن طريق رقمها. لحذف قاعدة HTTP (رقم 2):" },
                { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo ufw delete 2" },
                { type: ContentType.PARAGRAPH, text: "سيطلب منك تأكيد الحذف. هذا يقلل بشكل كبير من فرصة حذف القاعدة الخاطئة." },
                { type: ContentType.HEADING4, text: "إدراج القواعد: أهمية الترتيب" },
                { type: ContentType.PARAGRAPH, text: "يقوم UFW بتقييم القواعد بالترتيب، من الأعلى إلى الأسفل. بمجرد العثور على قاعدة تتطابق مع الاتصال، يتوقف عن البحث. هذا يجعل ترتيب القواعد مهمًا للغاية." },
                { type: ContentType.PARAGRAPH, text: "بشكل افتراضي، يضيف الأمر `allow` القاعدة إلى نهاية القائمة. ولكن في بعض الأحيان، تحتاج إلى إدراج قاعدة في بداية القائمة. على سبيل المثال، لنفترض أنك تريد السماح بالوصول إلى SSH فقط من عنوان IP الخاص بمكتبك (`88.77.66.55`) وحظر جميع العناوين الأخرى. إذا قمت بإضافة قاعدة الحظر أولاً، فسيتم حظرك أيضًا! يجب عليك إدراج قاعدة السماح *قبل* قاعدة الحظر." },
                { type: ContentType.PARAGRAPH, text: "يمكنك استخدام الأمر `insert` للقيام بذلك. لنفترض أنك تريد إدراج قاعدة للسماح بالوصول إلى SSH من IP مكتبك في الموضع الأول:" },
                 { type: ContentType.CODE_BLOCK, language: "bash", code: "sudo ufw insert 1 allow from 88.77.66.55 to any port 22 proto tcp" },
                { type: ContentType.PARAGRAPH, text: "الآن، عندما يأتي اتصال SSH من `88.77.66.55`، فإنه سيتطابق مع القاعدة رقم 1 ويتم السماح به. أي اتصال SSH آخر لن يتطابق مع القاعدة 1، وسيستمر التقييم إلى قاعدة الحظر التالية (إذا قمت بإضافتها) أو سيتم رفضه بواسطة السياسة الاftراضية." },
                { type: ContentType.NOTE, title: "إدارة دقيقة", text: "القدرة على إدراج وحذف القواعد بدقة تمنحك تحكمًا كاملاً في جدار الحماية الخاص بك. إنها مهارة أساسية للتعامل مع سيناريوهات الوصول المعقدة وضبط أمان الشبكة بدقة." },
              ]
            }
          ]
        },
        {
            id: "p1_c4",
            chapterTitle: "الفصل الرابع: الخدمات الأساسية والأمان",
            sections: [
                generatePlaceholderSection(1, 4, 1, "إعداد المنطقة الزمنية ومزامنة الوقت (NTP)"),
                generatePlaceholderSection(1, 4, 2, "تثبيت وتكوين `fail2ban` للحماية الاستباقية"),
                generatePlaceholderSection(1, 4, 3, "فهم وتأمين `cron` لجدولة المهام"),
                generatePlaceholderSection(1, 4, 4, "تثبيت `unattended-upgrades` للتحديثات الأمنية التلقائية"),
                generatePlaceholderSection(1, 4, 5, "مقدمة إلى AppArmor و SELinux"),
            ]
        },
        {
            id: "p1_c5",
            chapterTitle: "الفصل الخامس: المراقبة والنسخ الاحتياطي الأولي",
            sections: [
                generatePlaceholderSection(1, 5, 1, "فهم ومراقبة استخدام موارد النظام (top, htop, free)"),
                generatePlaceholderSection(1, 5, 2, "تحليل سجلات النظام الأساسية مع `journalctl`"),
                generatePlaceholderSection(1, 5, 3, "إعداد تنبيهات البريد الإلكتروني لأحداث `sudo`"),
                generatePlaceholderSection(1, 5, 4, "استراتيجيات النسخ الاحتياطي: ما الذي يجب نسخه؟"),
                generatePlaceholderSection(1, 5, 5, "إنشاء أول نسخة احتياطية يدوية باستخدام `tar`"),
            ]
        }
      ]
    },
    {
      id: "p2",
      partTitle: "الباب الثاني: حزمة الواجهة الخلفية (Backend Stack)",
      icon: "⚙️",
      chapters: [
        {
            id: "p2_c1",
            chapterTitle: "الفصل السادس: تثبيت وتكوين Nginx",
            sections: [
                generatePlaceholderSection(2, 1, 1, "مقدمة إلى Nginx: خادم الويب والوكيل العكسي"),
                generatePlaceholderSection(2, 1, 2, "تثبيت Nginx على أوبونتو"),
                generatePlaceholderSection(2, 1, 3, "فهم ملفات وبنية تكوين Nginx"),
                generatePlaceholderSection(2, 1, 4, "إعداد أول Server Block (Virtual Host)"),
                generatePlaceholderSection(2, 1, 5, "خدمة الملفات الثابتة (HTML, CSS, JS) مع Nginx"),
            ]
        },
        {
            id: "p2_c2",
            chapterTitle: "الفصل السابع: Nginx كوكيل عكسي (Reverse Proxy)",
            sections: [
                generatePlaceholderSection(2, 2, 1, "لماذا تحتاج إلى وكيل عكسي؟"),
                generatePlaceholderSection(2, 2, 2, "إعداد Nginx لتوجيه الطلبات إلى تطبيق Node.js"),
                generatePlaceholderSection(2, 2, 3, "إعداد Nginx لتوجيه الطلبات إلى تطبيق Python (Gunicorn)"),
                generatePlaceholderSection(2, 2, 4, "فهم ترويسات الوكيل العكسي (X-Forwarded-For)"),
                generatePlaceholderSection(2, 2, 5, "توزيع الحمل الأساسي (Load Balancing) مع Nginx"),
            ]
        },
        {
            id: "p2_c3",
            chapterTitle: "الفصل الثامن: إعداد قاعدة البيانات (PostgreSQL)",
            sections: [
                generatePlaceholderSection(2, 3, 1, "لماذا PostgreSQL؟ مقارنة مع MySQL و MongoDB"),
                generatePlaceholderSection(2, 3, 2, "تثبيت PostgreSQL على أوبونتو"),
                generatePlaceholderSection(2, 3, 3, "التأمين الأولي لـ PostgreSQL"),
                generatePlaceholderSection(2, 3, 4, "إنشاء المستخدمين وقواعد البيانات الأولى"),
                generatePlaceholderSection(2, 3, 5, "الاتصال بقاعدة البيانات عن بعد بشكل آمن"),
            ]
        },
        {
            id: "p2_c4",
            chapterTitle: "الفصل التاسع: تثبيت بيئات التشغيل",
            sections: [
                generatePlaceholderSection(2, 4, 1, "تثبيت Node.js باستخدام NVM (Node Version Manager)"),
                generatePlaceholderSection(2, 4, 2, "تثبيت Python وإدارة الحزم مع Pip و Venv"),
                generatePlaceholderSection(2, 4, 3, "إدارة عمليات Node.js مع PM2"),
                generatePlaceholderSection(2, 4, 4, "تشغيل تطبيقات Python مع Gunicorn"),
                generatePlaceholderSection(2, 4, 5, "إدارة متغيرات البيئة (Environment Variables)"),
            ]
        },
        {
            id: "p2_c5",
            chapterTitle: "الفصل العاشر: نشر أول تطبيق متكامل",
            sections: [
                generatePlaceholderSection(2, 5, 1, "مشروع عملي: نشر تطبيق Express.js بسيط"),
                generatePlaceholderSection(2, 5, 2, "مشروع عملي: نشر تطبيق FastAPI بسيط"),
                generatePlaceholderSection(2, 5, 3, "إدارة التطبيق كخدمة Systemd"),
                generatePlaceholderSection(2, 5, 4, "فحص سجلات التطبيق واستكشاف الأخطاء وإصلاحها"),
                generatePlaceholderSection(2, 5, 5, "ربط كل شيء: من الطلب إلى Nginx إلى التطبيق"),
            ]
        }
      ]
    },
    {
      id: "p3",
      partTitle: "الباب الثالث: الأتمتة والتوزيع المستمر (CI/CD)",
      icon: "🔁",
      chapters: [
        {
            id: "p3_c1", chapterTitle: "الفصل 11: إدارة الكود ونشره",
            sections: [
                generatePlaceholderSection(3, 1, 1, "مقدمة إلى Git لإدارة الخادم"),
                generatePlaceholderSection(3, 1, 2, "إعداد مستودع Git على الخادم"),
                generatePlaceholderSection(3, 1, 3, "استراتيجيات النشر: Git Pull مقابل Git Clone"),
                generatePlaceholderSection(3, 1, 4, "أتمتة النشر البسيط باستخدام Git Hooks"),
                generatePlaceholderSection(3, 1, 5, "التعامل مع ملفات التكوين والأسرار في Git"),
            ]
        },
        {
            id: "p3_c2", chapterTitle: "الفصل 12: مقدمة إلى CI/CD",
            sections: [
                generatePlaceholderSection(3, 2, 1, "ما هو CI/CD ولماذا هو مهم؟"),
                generatePlaceholderSection(3, 2, 2, "مقدمة إلى GitHub Actions"),
                generatePlaceholderSection(3, 2, 3, "إنشاء أول سير عمل (Workflow) للنشر"),
                generatePlaceholderSection(3, 2, 4, "استخدام أسرار GitHub لتخزين بيانات الاعتماد"),
                generatePlaceholderSection(3, 2, 5, "تشغيل سير العمل عند الدفع إلى فرع معين"),
            ]
        },
        {
            id: "p3_c3", chapterTitle: "الفصل 13: بناء خطوط أنابيب متقدمة",
            sections: [
                generatePlaceholderSection(3, 3, 1, "إضافة خطوة الاختبار (CI) إلى سير العمل"),
                generatePlaceholderSection(3, 3, 2, "بناء الأصول (Assets) على GitHub Actions"),
                generatePlaceholderSection(3, 3, 3, "استخدام rsync للنشر الفعال"),
                generatePlaceholderSection(3, 3, 4, "استراتيجيات التراجع (Rollback) البسيطة"),
                generatePlaceholderSection(3, 3, 5, "إرسال إشعارات حالة النشر (Slack/Discord)"),
            ]
        },
        {
            id: "p3_c4", chapterTitle: "الفصل 14: التوزيع بدون توقف",
            sections: [
                generatePlaceholderSection(3, 4, 1, "فهم مشكلة التوقف أثناء النشر"),
                generatePlaceholderSection(3, 4, 2, "استراتيجية النشر الأزرق/الأخضر (Blue/Green Deployment)"),
                generatePlaceholderSection(3, 4, 3, "تنفيذ النشر الأزرق/الأخضر باستخدام PM2"),
                generatePlaceholderSection(3, 4, 4, "تنفيذ النشر الأزرق/الأخضر باستخدام Nginx"),
                generatePlaceholderSection(3, 4, 5, "مقدمة إلى النشر الكناري (Canary Deployment)"),
            ]
        },
        {
            id: "p3_c5", chapterTitle: "الفصل 15: أدوات CI/CD أخرى",
            sections: [
                generatePlaceholderSection(3, 5, 1, "نظرة عامة على Jenkins"),
                generatePlaceholderSection(3, 5, 2, "نظرة عامة على GitLab CI/CD"),
                generatePlaceholderSection(3, 5, 3, "نظرة عامة على CircleCI"),
                generatePlaceholderSection(3, 5, 4, "مقارنة بين المنصات المختلفة"),
                generatePlaceholderSection(3, 5, 5, "اختيار الأداة المناسبة لمشروعك"),
            ]
        },
      ]
    },
    {
      id: "p4",
      partTitle: "الباب الرابع: الأمان والتحصين المتقدم",
      icon: "🛡️",
      chapters: [
         {
            id: "p4_c1", chapterTitle: "الفصل 16: تأمين Nginx بـ SSL/TLS",
            sections: [
                generatePlaceholderSection(4, 1, 1, "مقدمة إلى HTTPS وتشفير TLS/SSL"),
                generatePlaceholderSection(4, 1, 2, "الحصول على شهادة SSL مجانية من Let's Encrypt مع Certbot"),
                generatePlaceholderSection(4, 1, 3, "تكوين Nginx لاستخدام شهادات SSL"),
                generatePlaceholderSection(4, 1, 4, "أتمتة تجديد شهادات Let's Encrypt"),
                generatePlaceholderSection(4, 1, 5, "تحسين أداء وأمان TLS (HSTS, Perfect Forward Secrecy)"),
            ]
        },
         {
            id: "p4_c2", chapterTitle: "الفصل 17: أنظمة كشف التسلل والحماية",
            sections: [
                generatePlaceholderSection(4, 2, 1, "تكوين Fail2Ban المتقدم لمراقبة سجلات Nginx"),
                generatePlaceholderSection(4, 2, 2, "إعداد تنبيهات Fail2Ban"),
                generatePlaceholderSection(4, 2, 3, "مقدمة إلى أنظمة كشف التسلل المستندة إلى المضيف (HIDS)"),
                generatePlaceholderSection(4, 2, 4, "تثبيت وتكوين Wazuh Agent"),
                generatePlaceholderSection(4, 2, 5, "مقدمة إلى ModSecurity (WAF for Nginx)"),
            ]
        },
         {
            id: "p4_c3", chapterTitle: "الفصل 18: تدقيق النظام وتقويته",
            sections: [
                generatePlaceholderSection(4, 3, 1, "استخدام `lynis` لتدقيق أمان النظام"),
                generatePlaceholderSection(4, 3, 2, "استخدام `chkrootkit` و `rkhunter` للبحث عن أدوات الاختراق"),
                generatePlaceholderSection(4, 3, 3, "فهم وتطبيق تقوية نواة لينكس (Kernel Hardening)"),
                generatePlaceholderSection(4, 3, 4, "مراجعة أذونات الملفات والبحث عن نقاط الضعف"),
                generatePlaceholderSection(4, 3, 5, "تأمين الذاكرة المشتركة (`/dev/shm`)"),
            ]
        },
         {
            id: "p4_c4", chapterTitle: "الفصل 19: أمان التطبيقات",
            sections: [
                generatePlaceholderSection(4, 4, 1, "الحماية من هجمات XSS و CSRF"),
                generatePlaceholderSection(4, 4, 2, "تأمين ترويسات HTTP (HTTP Security Headers)"),
                generatePlaceholderSection(4, 4, 3, "التحقق من صحة المدخلات لمنع هجمات الحقن"),
                generatePlaceholderSection(4, 4, 4, "إدارة الجلسات وملفات تعريف الارتباط بأمان"),
                generatePlaceholderSection(4, 4, 5, "مقدمة إلى OWASP Top 10"),
            ]
        },
         {
            id: "p4_c5", chapterTitle: "الفصل 20: أمان الشبكة المتقدم",
            sections: [
                generatePlaceholderSection(4, 5, 1, "فهم `iptables` والفرق بينه وبين UFW"),
                generatePlaceholderSection(4, 5, 2, "إنشاء قواعد `iptables` مخصصة"),
                generatePlaceholderSection(4, 5, 3, "الحماية من هجمات DDoS البسيطة"),
                generatePlaceholderSection(4, 5, 4, "إعداد شبكة خاصة اftراضية (VPN) للوصول الإداري"),
                generatePlaceholderSection(4, 5, 5, "عزل الشبكات باستخدام VLANs (مفهوم)"),
            ]
        }
      ]
    },
    {
      id: "p5",
      partTitle: "الباب الخامس: المراقبة والسجلات والملاحظة",
      icon: "📊",
      chapters: [
        {
            id: "p5_c1", chapterTitle: "الفصل 21: إدارة السجلات المركزية",
            sections: [
                generatePlaceholderSection(5, 1, 1, "لماذا تحتاج إلى سجلات مركزية؟"),
                generatePlaceholderSection(5, 1, 2, "مقدمة إلى حزمة ELK (Elasticsearch, Logstash, Kibana)"),
                generatePlaceholderSection(5, 1, 3, "تثبيت وتكوين Filebeat لإرسال السجلات"),
                generatePlaceholderSection(5, 1, 4, "تحليل سجلات Nginx في Kibana"),
                generatePlaceholderSection(5, 1, 5, "بدائل ELK: Loki و Grafana"),
            ]
        },
        {
            id: "p5_c2", chapterTitle: "الفصل 22: المراقبة المتقدمة مع Prometheus",
            sections: [
                generatePlaceholderSection(5, 2, 1, "تثبيت خادم Prometheus"),
                generatePlaceholderSection(5, 2, 2, "مراقبة مقاييس النظام باستخدام Node Exporter"),
                generatePlaceholderSection(5, 2, 3, "مراقبة مقاييس Nginx"),
                generatePlaceholderSection(5, 2, 4, "فهم لغة استعلام PromQL"),
                generatePlaceholderSection(5, 2, 5, "إعداد مدير التنبيهات (Alertmanager)"),
            ]
        },
        {
            id: "p5_c3", chapterTitle: "الفصل 23: التصور البياني مع Grafana",
            sections: [
                generatePlaceholderSection(5, 3, 1, "تثبيت Grafana وربطه بـ Prometheus"),
                generatePlaceholderSection(5, 3, 2, "بناء لوحة معلومات (Dashboard) لمراقبة الخادم"),
                generatePlaceholderSection(5, 3, 3, "استيراد لوحات معلومات جاهزة من المجتمع"),
                generatePlaceholderSection(5, 3, 4, "إعداد التنبيهات المرئية في Grafana"),
                generatePlaceholderSection(5, 3, 5, "دمج مصادر بيانات متعددة (Loki, Elasticsearch)"),
            ]
        },
        {
            id: "p5_c4", chapterTitle: "الفصل 24: مراقبة أداء التطبيقات (APM)",
            sections: [
                generatePlaceholderSection(5, 4, 1, "ما هي APM وما أهميتها؟"),
                generatePlaceholderSection(5, 4, 2, "مقدمة إلى تتبع الطلبات الموزعة (Distributed Tracing)"),
                generatePlaceholderSection(5, 4, 3, "استخدام أدوات APM مفتوحة المصدر (مثل SigNoz)"),
                generatePlaceholderSection(5, 4, 4, "تحليل أداء التطبيق وتحديد نقاط الاختناق"),
                generatePlaceholderSection(5, 4, 5, "ربط التتبع بالسجلات والمقاييس"),
            ]
        },
        {
            id: "p5_c5", chapterTitle: "الفصل 25: الاستجابة للحوادث",
            sections: [
                generatePlaceholderSection(5, 5, 1, "إنشاء خطة استجابة للحوادث (Incident Response Plan)"),
                generatePlaceholderSection(5, 5, 2, "إعداد أدوات إدارة الحوادث (PagerDuty, Opsgenie)"),
                generatePlaceholderSection(5, 5, 3, "محاكاة الحوادث (Game Days)"),
                generatePlaceholderSection(5, 5, 4, "تحليل ما بعد الحادثة (Post-mortem Analysis)"),
                generatePlaceholderSection(5, 5, 5, "ثقافة عدم إلقاء اللوم (Blameless Culture)"),
            ]
        },
      ]
    },
    {
      id: "p6",
      partTitle: "الباب السادس: الحاويات (Containerization)",
      icon: "🐳",
      chapters: [
        {
            id: "p6_c1", chapterTitle: "الفصل 26: أساسيات Docker",
            sections: [
                generatePlaceholderSection(6, 1, 1, "ما هي الحاويات؟ Docker مقابل الآلات الاftراضية"),
                generatePlaceholderSection(6, 1, 2, "تثبيت Docker Engine على أوبونتو"),
                generatePlaceholderSection(6, 1, 3, "الأوامر الأساسية لـ Docker (run, ps, stop, rm)"),
                generatePlaceholderSection(6, 1, 4, "فهم الصور (Images) والحاويات (Containers)"),
                generatePlaceholderSection(6, 1, 5, "البحث عن الصور واستخدامها من Docker Hub"),
            ]
        },
        {
            id: "p6_c2", chapterTitle: "الفصل 27: بناء الصور مع Dockerfile",
            sections: [
                generatePlaceholderSection(6, 2, 1, "كتابة أول Dockerfile لتطبيق Node.js"),
                generatePlaceholderSection(6, 2, 2, "كتابة Dockerfile لتطبيق Python"),
                generatePlaceholderSection(6, 2, 3, "أفضل الممارسات لكتابة Dockerfile (التخزين المؤقت، الصور متعددة المراحل)"),
                generatePlaceholderSection(6, 2, 4, "فهم وإدارة طبقات الصور"),
                generatePlaceholderSection(6, 2, 5, "نشر الصور إلى سجل خاص (Private Registry)"),
            ]
        },
        {
            id: "p6_c3", chapterTitle: "الفصل 28: إدارة التطبيقات متعددة الحاويات",
            sections: [
                generatePlaceholderSection(6, 3, 1, "مقدمة إلى Docker Compose"),
                generatePlaceholderSection(6, 3, 2, "كتابة ملف docker-compose.yml لتطبيق ويب وقاعدة بيانات"),
                generatePlaceholderSection(6, 3, 3, "فهم شبكات Docker Compose"),
                generatePlaceholderSection(6, 3, 4, "إدارة البيانات مع Docker Volumes"),
                generatePlaceholderSection(6, 3, 5, "توسيع نطاق الخدمات مع Docker Compose"),
            ]
        },
        {
            id: "p6_c4", chapterTitle: "الفصل 29: مقدمة إلى Kubernetes",
            sections: [
                generatePlaceholderSection(6, 4, 1, "لماذا Kubernetes؟ المشاكل التي يحلها"),
                generatePlaceholderSection(6, 4, 2, "البنية الأساسية لـ Kubernetes (Nodes, Pods, Services, Deployments)"),
                generatePlaceholderSection(6, 4, 3, "إعداد بيئة Kubernetes محلية (Minikube, Kind)"),
                generatePlaceholderSection(6, 4, 4, "نشر أول تطبيق على Kubernetes باستخدام kubectl"),
                generatePlaceholderSection(6, 4, 5, "فحص وإدارة الموارد في Kubernetes"),
            ]
        },
        {
            id: "p6_c5", chapterTitle: "الفصل 30: أمان الحاويات",
            sections: [
                generatePlaceholderSection(6, 5, 1, "أفضل ممارسات أمان Dockerfile"),
                generatePlaceholderSection(6, 5, 2, "فحص الصور بحثًا عن الثغرات باستخدام Trivy"),
                generatePlaceholderSection(6, 5, 3, "تشغيل الحاويات كمستخدم غير جذري"),
                generatePlaceholderSection(6, 5, 4, "فهم سياقات الأمان في Kubernetes (Security Contexts)"),
                generatePlaceholderSection(6, 5, 5, "مقدمة إلى سياسات شبكة Kubernetes (Network Policies)"),
            ]
        },
      ]
    },
    {
      id: "p7",
      partTitle: "الباب السابع: احتراف قواعد البيانات",
      icon: "📦",
      chapters: [
        {
            id: "p7_c1", chapterTitle: "الفصل 31: أداء PostgreSQL",
            sections: [
                generatePlaceholderSection(7, 1, 1, "فهم وتحليل خطط الاستعلام (EXPLAIN ANALYZE)"),
                generatePlaceholderSection(7, 1, 2, "استراتيجيات الفهرسة (Indexing) الفعالة"),
                generatePlaceholderSection(7, 1, 3, "صيانة قاعدة البيانات (VACUUM, REINDEX)"),
                generatePlaceholderSection(7, 1, 4, "ضبط إعدادات PostgreSQL (postgresql.conf)"),
                generatePlaceholderSection(7, 1, 5, "تجميع الاتصالات (Connection Pooling) مع PgBouncer"),
            ]
        },
        {
            id: "p7_c2", chapterTitle: "الفصل 32: النسخ الاحتياطي المتقدم والتكرار",
            sections: [
                generatePlaceholderSection(7, 2, 1, "النسخ الاحتياطي الفيزيائي مقابل المنطقي (pg_dump)"),
                generatePlaceholderSection(7, 2, 2, "إعداد الاسترداد في نقطة زمنية (PITR)"),
                generatePlaceholderSection(7, 2, 3, "إعداد التكرار المتدفق (Streaming Replication) لخادم احتياطي"),
                generatePlaceholderSection(7, 2, 4, "أتمتة النسخ الاحتياطي باستخدام أدوات مثل pgBackRest"),
                generatePlaceholderSection(7, 2, 5, "اختبار استراتيجيات الاسترداد من الكوارث"),
            ]
        },
        {
            id: "p7_c3", chapterTitle: "الفصل 33: أمان PostgreSQL",
            sections: [
                generatePlaceholderSection(7, 3, 1, "فهم ملف pg_hba.conf للتحكم في الوصول"),
                generatePlaceholderSection(7, 3, 2, "تشفير الاتصالات باستخدام SSL/TLS"),
                generatePlaceholderSection(7, 3, 3, "تشفير الأعمدة الحساسة باستخدام pgcrypto"),
                generatePlaceholderSection(7, 3, 4, "الأمان على مستوى الصف (Row-Level Security)"),
                generatePlaceholderSection(7, 3, 5, "تدقيق نشاط قاعدة البيانات مع pgAudit"),
            ]
        },
        {
            id: "p7_c4", chapterTitle: "الفصل 34: استخدام Redis للتخزين المؤقت",
            sections: [
                generatePlaceholderSection(7, 4, 1, "تثبيت وتأمين Redis"),
                generatePlaceholderSection(7, 4, 2, "استراتيجيات التخزين المؤقت (Cache-aside, Read-through)"),
                generatePlaceholderSection(7, 4, 3, "استخدام Redis كذاكرة تخزين مؤقت للجلسات"),
                generatePlaceholderSection(7, 4, 4, "تنفيذ التخزين المؤقت للاستعلامات المكلفة"),
                generatePlaceholderSection(7, 4, 5, "فهم سياسات إخلاء المفاتيح (Eviction Policies)"),
            ]
        },
        {
            id: "p7_c5", chapterTitle: "الفصل 35: مفاهيم NoSQL أخرى",
            sections: [
                generatePlaceholderSection(7, 5, 1, "مقدمة إلى قواعد البيانات الوثائقية (MongoDB)"),
                generatePlaceholderSection(7, 5, 2, "مقدمة إلى قواعد البيانات الزمنية (InfluxDB)"),
                generatePlaceholderSection(7, 5, 3, "مقدمة إلى محركات البحث (Elasticsearch)"),
                generatePlaceholderSection(7, 5, 4, "متى تختار NoSQL على SQL؟"),
                generatePlaceholderSection(7, 5, 5, "التعامل مع البيانات في عالم متعدد قواعد البيانات"),
            ]
        },
      ]
    },
    {
      id: "p8",
      partTitle: "الباب الثامن: البنية التحتية ككود (IaC)",
      icon: "🏗️",
      chapters: [
        {
            id: "p8_c1", chapterTitle: "الفصل 36: مقدمة إلى IaC",
            sections: [
                generatePlaceholderSection(8, 1, 1, "ما هي البنية التحتية ككود ولماذا؟"),
                generatePlaceholderSection(8, 1, 2, "مقارنة بين الأدوات: Terraform, Ansible, Pulumi"),
                generatePlaceholderSection(8, 1, 3, "فهم البرمجة الحتمية مقابل التصريحية"),
                generatePlaceholderSection(8, 1, 4, "إعداد بيئة عمل IaC"),
                generatePlaceholderSection(8, 1, 5, "تكامل IaC مع Git"),
            ]
        },
        {
            id: "p8_c2", chapterTitle: "الفصل 37: إدارة الموارد مع Terraform",
            sections: [
                generatePlaceholderSection(8, 2, 1, "تثبيت Terraform وكتابة أول تكوين"),
                generatePlaceholderSection(8, 2, 2, "إدارة خوادم VPS (DigitalOcean/Hetzner) مع Terraform"),
                generatePlaceholderSection(8, 2, 3, "فهم حالة Terraform (State) وإدارتها عن بعد"),
                generatePlaceholderSection(8, 2, 4, "استخدام المتغيرات والمخرجات"),
                generatePlaceholderSection(8, 2, 5, "تنظيم الكود باستخدام الوحدات (Modules)"),
            ]
        },
        {
            id: "p8_c3", chapterTitle: "الفصل 38: إدارة التكوين مع Ansible",
            sections: [
                generatePlaceholderSection(8, 3, 1, "تثبيت Ansible وفهم المفاهيم الأساسية (Playbooks, Inventory)"),
                generatePlaceholderSection(8, 3, 2, "كتابة أول Playbook لتثبيت Nginx"),
                generatePlaceholderSection(8, 3, 3, "استخدام الأدوار (Roles) لتنظيم المهام"),
                generatePlaceholderSection(8, 3, 4, "إدارة الأسرار مع Ansible Vault"),
                generatePlaceholderSection(8, 3, 5, "دمج Terraform و Ansible"),
            ]
        },
        {
            id: "p8_c4", chapterTitle: "الفصل 39: الانتقال إلى السحابة",
            sections: [
                generatePlaceholderSection(8, 4, 1, "مقدمة إلى AWS: المفاهيم الأساسية (EC2, S3, VPC)"),
                generatePlaceholderSection(8, 4, 2, "مقدمة إلى GCP: المفاهيم الأساسية (Compute Engine, Cloud Storage)"),
                generatePlaceholderSection(8, 4, 3, "إدارة موارد AWS/GCP باستخدام Terraform"),
                generatePlaceholderSection(8, 4, 4, "فهم فوائد وتكاليف السحابة"),
                generatePlaceholderSection(8, 4, 5, "استراتيجيات الهجرة من VPS إلى السحابة"),
            ]
        },
        {
            id: "p8_c5", chapterTitle: "الفصل 40: مفاهيم متقدمة",
            sections: [
                generatePlaceholderSection(8, 5, 1, "اختبار البنية التحتية (Terratest)"),
                generatePlaceholderSection(8, 5, 2, "خطوط أنابيب CI/CD للبنية التحتية"),
                generatePlaceholderSection(8, 5, 3, "مقدمة إلى Packer لبناء صور الآلات"),
                generatePlaceholderSection(8, 5, 4, "مقدمة إلى الحوسبة بدون خادم (Serverless)"),
                generatePlaceholderSection(8, 5, 5, "مستقبل IaC: Crossplane و OpenTofu"),
            ]
        },
      ]
    },
    {
      id: "p9",
      partTitle: "الباب التاسع: العمليات المظلمة والدفاع الاستباقي",
      icon: "☠️",
      chapters: [
         {
            id: "p9_c1", chapterTitle: "الفصل 41: نمذجة التهديدات والدفاع النشط",
            sections: [
                generatePlaceholderSection(9, 1, 1, "مقدمة إلى نمذجة التهديدات وإطار STRIDE"),
                generatePlaceholderSection(9, 1, 2, "إجراء أول جلسة نمذجة تهديد لتطبيق ويب"),
                generatePlaceholderSection(9, 1, 3, "فلسفة الدفاع النشط مقابل الدفاع السلبي"),
                generatePlaceholderSection(9, 1, 4, "تقنيات الخداع: مقدمة إلى Honeypots"),
                generatePlaceholderSection(9, 1, 5, "إعداد Honeypot بسيط لـ SSH"),
            ]
        },
         {
            id: "p9_c2", chapterTitle: "الفصل 42: تقنيات الخداع المتقدمة",
            sections: [
                generatePlaceholderSection(9, 2, 1, "إنشاء نقاط نهاية API وهمية (Honeypots)"),
                generatePlaceholderSection(9, 2, 2, "بصمات المتصفح وتحديات JavaScript"),
                generatePlaceholderSection(9, 2, 3, "خادم المتاهة المضاد للروبوتات"),
                generatePlaceholderSection(9, 2, 4, "تسميم بيانات الروبوتات المهاجمة"),
                generatePlaceholderSection(9, 2, 5, "تحليل بيانات الـ Honeypot لتحديد المهاجمين"),
            ]
        },
         {
            id: "p9_c3", chapterTitle: "الفصل 43: عمليات BlackMetaOps",
            sections: [
                generatePlaceholderSection(9, 3, 1, "نقاط النهاية ذاتية التحور: جعل API هدفًا متحركًا"),
                generatePlaceholderSection(9, 3, 2, "إدارة التكوين الديناميكي من جانب العميل"),
                generatePlaceholderSection(9, 3, 3, "توليد رموز مسار ديناميكية"),
                generatePlaceholderSection(9, 3, 4, "توجيه حركة المرور المشبوهة إلى بنية تحتية خادعة"),
                generatePlaceholderSection(9, 3, 5, "الأخلاقيات والاعتبارات القانونية"),
            ]
        },
         {
            id: "p9_c4", chapterTitle: "الفصل 44: التحليل الجنائي والاستجابة",
            sections: [
                generatePlaceholderSection(9, 4, 1, "أساسيات التحليل الجنائي الرقمي"),
                generatePlaceholderSection(9, 4, 2, "جمع الأدلة من نظام مخترق"),
                generatePlaceholderSection(9, 4, 3, "تحليل سجلات النظام والشبكة"),
                generatePlaceholderSection(9, 4, 4, "تحليل الذاكرة (Memory Forensics)"),
                generatePlaceholderSection(9, 4, 5, "كتابة تقرير ما بعد الاختراق"),
            ]
        },
         {
            id: "p9_c5", chapterTitle: "الفصل 45: الخاتمة والخطوات التالية",
            sections: [
                generatePlaceholderSection(9, 5, 1, "مراجعة الرحلة: من VPS إلى DarkOps"),
                generatePlaceholderSection(9, 5, 2, "بناء عقلية أمنية"),
                generatePlaceholderSection(9, 5, 3, "مواكبة أحدث التهديدات والتقنيات"),
                generatePlaceholderSection(9, 5, 4, "المساهمة في مجتمع المصادر المفتوحة"),
                generatePlaceholderSection(9, 5, 5, "الرحلة لا تنتهي: التعلم المستمر"),
            ]
        },
      ]
    }
  ]
};